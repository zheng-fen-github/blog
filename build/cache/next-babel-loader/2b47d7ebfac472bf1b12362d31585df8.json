{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\site\\\\link.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from \"react\";\n\nfunction Link(_ref) {\n  var mess = _ref.mess,\n      open = _ref.open,\n      gao = _ref.gao,\n      setgao = _ref.setgao,\n      mes = _ref.mes,\n      cor = _ref.cor;\n  var once = useRef(false);\n  var initH = useRef(0);\n  useEffect(function () {\n    var current = once.current;\n    current ? open ? zeroEv() : positionEv() : once.current = true;\n  }, [open]);\n  useEffect(function () {\n    if (mess) positionEv();\n  }, [mess]);\n\n  var positionEv = function positionEv() {\n    var posi = dom.getBoundingClientRect();\n    if (!gao) setgao(dom.offsetHeight);\n    !initH.current ? initH.current = -(posi.top - mess.top) : null;\n    console.log(initH.current); // dom.style.top = -(posi.top - mess.top) + \"px\";\n  };\n\n  var zeroEv = function zeroEv() {\n    dom.style.top = 0;\n  };\n\n  var dom;\n  return __jsx(\"div\", {\n    ref: function ref(_ref2) {\n      return dom = _ref2;\n    },\n    className: \"jsx-1270826209\" + \" \" + \"site ani pointer test \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1270826209\" + \" \" + \"min-ctn \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    style: {\n      backgroundColor: cor\n    },\n    className: \"jsx-1270826209\" + \" \" + \"backcolor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    href: mes.url,\n    target: \"_black\",\n    className: \"jsx-1270826209\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-1270826209\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, mes.name)))), __jsx(_JSXStyle, {\n    id: \"1270826209\",\n    __self: this\n  }, \".site.jsx-1270826209{width:80%;margin-left:20%;position:relative;padding:20px 0;}.min-ctn.jsx-1270826209{padding:10px;border-radius:4px;background:#212329;}a.jsx-1270826209{-webkit-text-decoration:none;text-decoration:none;}.site.jsx-1270826209 .backcolor.jsx-1270826209{border-radius:4px;text-align:center;padding:10px;font-size:20px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcc2l0ZVxcbGluay5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQ2tCLEFBR3FCLEFBTUcsQUFLUSxBQUdILFVBYkYsR0FNRSxLQVFBLFFBYkEsS0FNQyxLQVFOLFFBYkUsS0FjQSxDQVJqQixBQUdBLFNBUkEsS0FjQSIsImZpbGUiOiJDOlxcbmV3bGlmZVxcbmV3U2l0ZVxcbXktYXBwXFxjb21wb25lbnRcXHNpdGVcXGxpbmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmZ1bmN0aW9uIExpbmsoeyBtZXNzLCBvcGVuLCBnYW8sIHNldGdhbywgbWVzLCBjb3IgfSkge1xyXG4gIGxldCBvbmNlID0gdXNlUmVmKGZhbHNlKTtcclxuICBsZXQgaW5pdEggPSB1c2VSZWYoMCk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCB7IGN1cnJlbnQgfSA9IG9uY2U7XHJcbiAgICBjdXJyZW50ID8gKG9wZW4gPyB6ZXJvRXYoKSA6IHBvc2l0aW9uRXYoKSkgOiAob25jZS5jdXJyZW50ID0gdHJ1ZSk7XHJcbiAgfSwgW29wZW5dKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChtZXNzKSBwb3NpdGlvbkV2KCk7XHJcbiAgfSwgW21lc3NdKTtcclxuICBjb25zdCBwb3NpdGlvbkV2ID0gKCkgPT4ge1xyXG4gICAgbGV0IHBvc2kgPSBkb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBpZiAoIWdhbykgc2V0Z2FvKGRvbS5vZmZzZXRIZWlnaHQpO1xyXG4gICAgIWluaXRILmN1cnJlbnQgPyAoaW5pdEguY3VycmVudCA9IC0ocG9zaS50b3AgLSBtZXNzLnRvcCkpIDogbnVsbDtcclxuICAgIGNvbnNvbGUubG9nKGluaXRILmN1cnJlbnQpO1xyXG4gICAgLy8gZG9tLnN0eWxlLnRvcCA9IC0ocG9zaS50b3AgLSBtZXNzLnRvcCkgKyBcInB4XCI7XHJcbiAgfTtcclxuICBjb25zdCB6ZXJvRXYgPSAoKSA9PiB7XHJcbiAgICBkb20uc3R5bGUudG9wID0gMDtcclxuICB9O1xyXG4gIGxldCBkb207XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNpdGUgYW5pIHBvaW50ZXIgdGVzdCBcIiByZWY9eyhyZWYpID0+IChkb20gPSByZWYpfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4tY3RuIFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFja2NvbG9yXCIgc3R5bGU9e3sgYmFja2dyb3VuZENvbG9yOiBjb3IgfX0+XHJcbiAgICAgICAgICA8YSBocmVmPXttZXMudXJsfSB0YXJnZXQ9XCJfYmxhY2tcIj5cclxuICAgICAgICAgICAgPGgzPnttZXMubmFtZX08L2gzPlxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgIC5zaXRlIHtcclxuICAgICAgICAgIHdpZHRoOiA4MCU7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMjAlO1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgcGFkZGluZzogMjBweCAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAubWluLWN0biB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgYmFja2dyb3VuZDogIzIxMjMyOTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYSB7XHJcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zaXRlIC5iYWNrY29sb3Ige1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpbms7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\component\\\\\\\\site\\\\\\\\link.js */\"));\n}\n\nexport default Link;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/site/link.js"],"names":["React","useEffect","useRef","Link","mess","open","gao","setgao","mes","cor","once","initH","current","zeroEv","positionEv","posi","dom","getBoundingClientRect","offsetHeight","top","console","log","style","ref","backgroundColor","url","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,QAAyC,OAAzC;;AAEA,SAASC,IAAT,OAAqD;AAAA,MAArCC,IAAqC,QAArCA,IAAqC;AAAA,MAA/BC,IAA+B,QAA/BA,IAA+B;AAAA,MAAzBC,GAAyB,QAAzBA,GAAyB;AAAA,MAApBC,MAAoB,QAApBA,MAAoB;AAAA,MAAZC,GAAY,QAAZA,GAAY;AAAA,MAAPC,GAAO,QAAPA,GAAO;AACnD,MAAIC,IAAI,GAAGR,MAAM,CAAC,KAAD,CAAjB;AACA,MAAIS,KAAK,GAAGT,MAAM,CAAC,CAAD,CAAlB;AACAD,EAAAA,SAAS,CAAC,YAAM;AAAA,QACRW,OADQ,GACIF,IADJ,CACRE,OADQ;AAEdA,IAAAA,OAAO,GAAIP,IAAI,GAAGQ,MAAM,EAAT,GAAcC,UAAU,EAAhC,GAAuCJ,IAAI,CAACE,OAAL,GAAe,IAA7D;AACD,GAHQ,EAGN,CAACP,IAAD,CAHM,CAAT;AAKAJ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIG,IAAJ,EAAUU,UAAU;AACrB,GAFQ,EAEN,CAACV,IAAD,CAFM,CAAT;;AAGA,MAAMU,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAIC,IAAI,GAAGC,GAAG,CAACC,qBAAJ,EAAX;AACA,QAAI,CAACX,GAAL,EAAUC,MAAM,CAACS,GAAG,CAACE,YAAL,CAAN;AACV,KAACP,KAAK,CAACC,OAAP,GAAkBD,KAAK,CAACC,OAAN,GAAgB,EAAEG,IAAI,CAACI,GAAL,GAAWf,IAAI,CAACe,GAAlB,CAAlC,GAA4D,IAA5D;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYV,KAAK,CAACC,OAAlB,EAJuB,CAKvB;AACD,GAND;;AAOA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBG,IAAAA,GAAG,CAACM,KAAJ,CAAUH,GAAV,GAAgB,CAAhB;AACD,GAFD;;AAGA,MAAIH,GAAJ;AAEA,SACE;AAAwC,IAAA,GAAG,EAAE,aAACO,KAAD;AAAA,aAAUP,GAAG,GAAGO,KAAhB;AAAA,KAA7C;AAAA,wCAAe,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAA2B,IAAA,KAAK,EAAE;AAAEC,MAAAA,eAAe,EAAEf;AAAnB,KAAlC;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,IAAI,EAAED,GAAG,CAACiB,GAAb;AAAkB,IAAA,MAAM,EAAC,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKjB,GAAG,CAACkB,IAAT,CADF,CADF,CADF,CADF;AAAA;AAAA;AAAA,umGADF;AAiCD;;AAED,eAAevB,IAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\n\r\nfunction Link({ mess, open, gao, setgao, mes, cor }) {\r\n  let once = useRef(false);\r\n  let initH = useRef(0);\r\n  useEffect(() => {\r\n    let { current } = once;\r\n    current ? (open ? zeroEv() : positionEv()) : (once.current = true);\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    if (mess) positionEv();\r\n  }, [mess]);\r\n  const positionEv = () => {\r\n    let posi = dom.getBoundingClientRect();\r\n    if (!gao) setgao(dom.offsetHeight);\r\n    !initH.current ? (initH.current = -(posi.top - mess.top)) : null;\r\n    console.log(initH.current);\r\n    // dom.style.top = -(posi.top - mess.top) + \"px\";\r\n  };\r\n  const zeroEv = () => {\r\n    dom.style.top = 0;\r\n  };\r\n  let dom;\r\n\r\n  return (\r\n    <div className=\"site ani pointer test \" ref={(ref) => (dom = ref)}>\r\n      <div className=\"min-ctn \">\r\n        <div className=\"backcolor\" style={{ backgroundColor: cor }}>\r\n          <a href={mes.url} target=\"_black\">\r\n            <h3>{mes.name}</h3>\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        .site {\r\n          width: 80%;\r\n          margin-left: 20%;\r\n          position: relative;\r\n          padding: 20px 0;\r\n        }\r\n        .min-ctn {\r\n          padding: 10px;\r\n          border-radius: 4px;\r\n          background: #212329;\r\n        }\r\n        a {\r\n          text-decoration: none;\r\n        }\r\n        .site .backcolor {\r\n          border-radius: 4px;\r\n          text-align: center;\r\n          padding: 10px;\r\n          font-size: 20px;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Link;\r\n"]},"metadata":{},"sourceType":"module"}