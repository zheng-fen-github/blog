(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{KQm4:function(e,t,n){"use strict";function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return o}))},QL8R:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/release-article",function(){return n("s1T0")}])},"TW6/":function(e,t,n){"use strict";var o=n("MX0m"),a=n.n(o),r=n("q1tI"),i=n.n(r),s=n("YFqc"),c=n.n(s),l=n("nOHt"),u=i.a.createElement;t.a=function(e){var t=Object(l.useRouter)().asPath,n=Object(r.useState)(t)[0];return u("div",{className:"jsx-211519462 nav row mx-0"},u("div",{className:"jsx-211519462 col-12 px-0 img-ctn"},e.children),u("div",{className:"jsx-211519462 content col-12 mx-0"},u("div",{className:"jsx-211519462 min-nav row align-items-center justify-content-center"},u("div",{className:"jsx-211519462 col-12 col-sm-10 "},u("ul",{className:"jsx-211519462 d-flex row justify-content-center"},u("li",{className:"jsx-211519462 "+(("/"==n?"liSeled":null)||"")},u(c.a,{href:"/"},u("h3",{className:"jsx-211519462"},"Home"))),u("li",{className:"jsx-211519462 "+(("/photo"==n?"liSeled":null)||"")},u(c.a,{href:"/photo"},u("h3",{className:"jsx-211519462"},"Photo"))),u("li",{className:"jsx-211519462 "+(("/article-list"==n?"liSeled":null)||"")},u(c.a,{href:"/article-list"},u("h3",{className:"jsx-211519462"},"Article"))),u("li",{className:"jsx-211519462 "+(("/component"==n?"liSeled":null)||"")},u(c.a,{href:"/component"},u("h3",{className:"jsx-211519462"},"Component")))))),e.title),u(a.a,{id:"211519462"},[".nav.jsx-211519462{position:relative;}",".img-ctn.jsx-211519462{z-index:999;}",".content.jsx-211519462{position:absolute;left:0;right:0;top:0;bottom:0;z-index:1000;}",".min-nav.jsx-211519462{width:100%;min-height:14%;border-bottom:solid rgba(255,255,255,0.5) 1px;}","ul.jsx-211519462{width:100%;list-style:none;margin:0;z-index:1000;}","li.jsx-211519462{-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;color:white;padding:1rem;margin:1rem;border-radius:6px;-webkit-transition:0.4s;transition:0.4s;cursor:pointer;z-index:1000;}","li.jsx-211519462:hover,.liSeled.jsx-211519462{background:rgba(255,255,255,0.3);}","@media (max-width:960px){.min-nav.jsx-211519462>div.jsx-211519462{margin:2rem;}}","@media (max-width:360px){li.jsx-211519462{margin:0.4rem;}}"]))}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var o=n("lwsE"),a=n("W8MJ"),r=n("a1gu"),i=n("Nsbk"),s=n("7W2i");function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var l=n("TqRt"),u=n("284h");t.__esModule=!0,t.default=void 0;var f,m=u(n("q1tI")),p=n("QmWs"),d=n("g/15"),h=l(n("nOHt"));function x(e){return e&&"object"===typeof e?(0,d.formatWithValidation)(e):e}var g=new Map,v=window.IntersectionObserver,j={};function b(){return f||(v?f=new v((function(e){e.forEach((function(e){if(g.has(e.target)){var t=g.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(f.unobserve(e.target),g.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var y=function(e){s(l,e);var t,n=(t=l,function(){var e,n=i(t);if(c()){var o=i(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return r(this,e)});function l(e){var t;return o(this,l),(t=n.call(this,e)).p=void 0,t.cleanUpListeners=function(){},t.formatUrls=function(e){var t=null,n=null,o=null;return function(a,r){if(o&&a===t&&r===n)return o;var i=e(a,r);return t=a,n=r,o=i,i}}((function(e,t){return{href:x(e),as:t?x(t):t}})),t.linkClicked=function(e){var n=e.currentTarget,o=n.nodeName,a=n.target;if("A"!==o||!(a&&"_self"!==a||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var r=t.formatUrls(t.props.href,t.props.as),i=r.href,s=r.as;if(function(e){var t=(0,p.parse)(e,!1,!0),n=(0,p.parse)((0,d.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(i)){var c=window.location.pathname;i=(0,p.resolve)(c,i),s=s?(0,p.resolve)(c,s):i,e.preventDefault();var l=t.props.scroll;null==l&&(l=s.indexOf("#")<0),h.default[t.props.replace?"replace":"push"](i,s,{shallow:t.props.shallow}).then((function(e){e&&l&&(window.scrollTo(0,0),document.body.focus())}))}}},t.p=!1!==e.prefetch,t}return a(l,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,o=t.as,a=(0,p.resolve)(e,n);return[a,o?(0,p.resolve)(e,o):a]}},{key:"handleRef",value:function(e){var t=this;this.p&&v&&e&&e.tagName&&(this.cleanUpListeners(),j[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var n=b();return n?(n.observe(e),g.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}g.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();h.default.prefetch(t[0],t[1],e).catch((function(e){0})),j[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),o=n.href,a=n.as;"string"===typeof t&&(t=m.default.createElement("a",null,t));var r=m.Children.only(t),i={ref:function(t){e.handleRef(t),r&&"object"===typeof r&&r.ref&&("function"===typeof r.ref?r.ref(t):"object"===typeof r.ref&&(r.ref.current=t))},onMouseEnter:function(t){r.props&&"function"===typeof r.props.onMouseEnter&&r.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){r.props&&"function"===typeof r.props.onClick&&r.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==r.type||"href"in r.props)||(i.href=a||o),m.default.cloneElement(r,i)}}]),l}(m.Component);t.default=y},s1T0:function(e,t,n){"use strict";n.r(t);var o=n("o0o1"),a=n.n(o),r=n("MX0m"),i=n.n(r),s=n("q1tI"),c=n.n(s),l=n("8Kt/"),u=n.n(l),f=n("TW6/"),m=function(e,t){localStorage.setItem(e,t)},p=function(e,t){var n=localStorage.getItem(t);n&&(document.querySelector(e).value=n)},d=c.a.createElement,h=function(e,t,n,o){var a=document.getElementById("canvas"),r=a.getContext("2d"),i=Math.min(e,t);a.width=i,a.height=i;var s=(Math.max(e,t)-i)/2;e>t?r.drawImage(n,-s,0):r.drawImage(n,0,-s);var c=document.getElementById("canvas2").getContext("2d");canvas2.width=80,canvas2.height=80,c.drawImage(a,0,0,80,80),document.getElementById("canvas2").toBlob((function(e){var t="authorPhoto."+e.type.slice(6,9),n=new File([e],t);o(e);var a=indexedDB.open("article-store",2);a.onsuccess=function(){var e=a.result.transaction("photoBuffer","readwrite").objectStore("photoBuffer"),t=e.get("article-author-photo");t.onsuccess=function(){t.result&&e.delete("article-author-photo");var o={name:"article-author-photo",file:n,create:new Date},a=e.add(o);a.onerror=function(){console.log("\u5b58\u56fe\u7247buffer \u5931\u8d25"),console.log(a.error)}}}}),"image/png")},x=function(){var e=Object(s.useState)(null),t=e[0],n=e[1];return Object(s.useEffect)((function(){var e=indexedDB.open("article-store",2);return e.onupgradeneeded=function(){var t=e.result;t.objectStoreNames.contains("photoBuffer")||t.createObjectStore("photoBuffer",{keyPath:"name"})},e.onsuccess=function(){var t,o,r,i;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=e.result,o=t.transaction("photoBuffer"),r=o.objectStore("photoBuffer"),(i=r.get("article-author-photo")).onsuccess=function(){i.result&&n(i.result.file)};case 5:case"end":return a.stop()}}),null,null,null,Promise)},function(){URL.revokeObjectURL(t)}}),[]),d(c.a.Fragment,null,!t&&d("div",{onClick:function(e){e.target.nextElementSibling.click()},className:"jsx-2605298663 file-upload-button"}),d("input",{type:"file",name:"author-photo-file",onChange:function(e){try{var t=e.target.files[0],o=document.createElement("img");o.src=URL.createObjectURL(t),o.onload=function(){document.querySelector(".photo-container").append(o),h(o.offsetWidth,o.offsetHeight,o,n)}}catch(a){console.log(a)}},className:"jsx-2605298663 d-none"}),t&&d("img",{src:URL.createObjectURL(t),alt:"author-photo",onClick:function(e){e.target.previousElementSibling.click()},className:"jsx-2605298663"}),d("div",{style:{position:"fixed",left:0,top:0,visibility:"hidden",userSelect:"none"},className:"jsx-2605298663 photo-container"}),d("canvas",{id:"canvas",hidden:!0,className:"jsx-2605298663"}),d("canvas",{id:"canvas2",hidden:!0,className:"jsx-2605298663"}),d(i.a,{id:"2605298663"},[".file-upload-button.jsx-2605298663{width:80px;height:80px;background:black;cursor:pointer;}","img.jsx-2605298663{cursor:pointer;}"]))},g=c.a.createElement,v=function(){var e=Object(s.useState)(""),t=e[0],n=e[1],o=function(e){var t=e.target.value;n(t),localStorage.setItem("article-type",t)};return Object(s.useEffect)((function(){p("input[name='author-name']","author-name"),p("input[name='article-title']","article-title");var e=localStorage.getItem("article-type");Array.from(document.querySelectorAll(".author h2")).map((function(t){return t.textContent===e?t.classList.add("seled"):null})),e&&n(e)}),[]),g("div",{className:"jsx-2083476103 row author  m-0"},g("div",{className:"jsx-2083476103 col-10 offset-1"},g("div",{className:"jsx-2083476103 row"},g("div",{className:"jsx-2083476103 col-12"},g("h3",{className:"jsx-2083476103 my-5"},"AUTHOR"),g("div",{className:"jsx-2083476103  d-flex align-items-around"},g(x,null),g("div",{className:"jsx-2083476103 author-message ml-4"},g("input",{type:"text",name:"author-name",id:"author-name",placeholder:" Article Name",required:!0,onChange:function(e){return m("author-name",e.target.value)},className:"jsx-2083476103 h3 p-2 m-0"}),g("input",{type:"text",name:"article-title",id:"article-title",required:!0,onChange:function(e){return m("article-title",e.target.value)},placeholder:" Article Title",className:"jsx-2083476103 h2 p-2"})))),g("div",{className:"jsx-2083476103 col-12 mt-5"},g("ul",{onClick:function(e){var t=e.target;if("H2"===t.tagName){var o=document.querySelector(".author h2.seled");o&&o.classList.remove("seled"),t.classList.add("seled"),n(t.textContent),localStorage.setItem("article-type",t.textContent)}},className:"jsx-2083476103 row"},g("li",{className:"jsx-2083476103 col-auto text-center"},g("h2",{className:"jsx-2083476103 p-3"},"React")),g("li",{className:"jsx-2083476103 col-auto text-center"},g("h2",{className:"jsx-2083476103 p-3"},"Python")),g("li",{className:"jsx-2083476103 col-auto text-center"},g("h2",{className:"jsx-2083476103 p-3"},"Django")),g("li",{className:"jsx-2083476103 col-auto text-center"},g("h2",{className:"jsx-2083476103 p-3"},"Webpack")),g("li",{className:"jsx-2083476103 col"},g("input",{type:"text",name:"article-type",placeholder:"Type",required:!0,value:t,onInput:o,onChange:o,id:"article-type",className:"jsx-2083476103 h-100 px-4"})))))),g(i.a,{id:"2083476103"},[".author.jsx-2083476103{margin-top:10rem;padding-bottom:8rem;border-bottom:2px solid #eaeaea;}","input.jsx-2083476103{height:48%;border:none;border-bottom:solid 1px #c9c9c9;}","input[name='article-title'].jsx-2083476103{width:100%;}","li.jsx-2083476103 input.jsx-2083476103{font-size:2rem;font-weight:700;}","ul.jsx-2083476103{list-style:none;}","h2.jsx-2083476103{border:black solid 2px;cursor:pointer;-webkit-transition:.2s;transition:.2s;}","h2.seled.jsx-2083476103{color:white;background:black;}","h2.jsx-2083476103:hover{border-color:white;}","h2.seled.jsx-2083476103:hover{border-color:black;background:white;color:black;}"]))},j=n("KQm4"),b=c.a.createElement,y=function(e){var t=e.name,n=e.index,o=e.setState,r=e.title,c=e.state,l=Object(s.useState)(null),u=l[0],f=l[1];Object(s.useEffect)((function(){var e=indexedDB.open("article-store",2);return e.onupgradeneeded=function(){var t=e.result;t.objectStoreNames.contains("photoBuffer")||t.createObjectStore("photoBuffer",{keyPath:"name"})},e.onsuccess=function(){var n,o,r,i;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.result,o=n.transaction("photoBuffer","readwrite"),r=o.objectStore("photoBuffer"),(i=r.get(t)).onsuccess=function(){i.result&&f(URL.createObjectURL(i.result.file))};case 5:case"end":return a.stop()}}),null,null,null,Promise)},function(){URL.revokeObjectURL(u)}}),[]);var m=function(e){var t=localStorage.getItem("article-content-object");if(t){var a=JSON.parse(t);a[n].title=e.target.value,localStorage.setItem("article-content-object",JSON.stringify(a)),o(a)}};return b("div",{className:"jsx-2814629420 row content-item position-relative"},b("input",{type:"text",name:"photo-title",onChange:m,onInput:m,defaultValue:r||null,required:!0,className:"jsx-2814629420 px-4 text-center"}),u?b("img",{src:u,alt:"content-photo",onDoubleClick:function(e){f(null),e.currentTarget.nextElementSibling.value=""},className:"jsx-2814629420 col-12 photo"}):b("div",{onClick:function(e){e.currentTarget.nextElementSibling.click()},className:"jsx-2814629420  uploadRoot col-6 offset-3 d-flex justify-content-center align-items-center"},b("i",{className:"jsx-2814629420 iconfont icon-cloud-upload"})),b("input",{type:"file",name:t+"file",id:t+"file",onChange:function(e){var n=e.target.files[0],o=URL.createObjectURL(n);f(o);var a=indexedDB.open("article-store",2);a.onsuccess=function(){var e=a.result.transaction("photoBuffer","readwrite").objectStore("photoBuffer"),o={name:t,file:n,create:new Date},r=e.add(o);r.onsuccess=function(){console.log("\u5b58\u56fe\u7247buffer \u6210\u529f"),console.log(r.result)},r.onerror=function(){console.log("\u5b58\u56fe\u7247buffer \u5931\u8d25"),console.log(r.error)}}},className:"jsx-2814629420 d-none"}),b("div",{onClick:function(){return function(e){var n=c.filter((function(t,n){return n!==e}));o(n),localStorage.setItem("article-content-object",JSON.stringify(n));var a=indexedDB.open("article-store",2);a.onsuccess=function(){var e=a.result.transaction("photoBuffer","readwrite").objectStore("photoBuffer").delete(t);e.onsuccess=function(){console.log(t+"delete \u6210\u529f")},e.onerror=function(){console.log(t+"delete \u5931\u8d25"),console.log(e.error)}}}(n)},className:"jsx-2814629420 delete"},b("i",{className:"jsx-2814629420 iconfont icon-trash-"})),b(i.a,{id:"2814629420"},[".content-item.jsx-2814629420{margin-bottom:5rem;}","img.jsx-2814629420{width:100%;}",".photo.jsx-2814629420{margin-bottom:3rem;}","input[name='photo-title'].jsx-2814629420{height:6vh;width:50%;margin:0 auto;font-size:3rem;line-height:2;margin-bottom:5rem;}",".uploadRoot.jsx-2814629420{height:20vh;}","i.jsx-2814629420{font-size:8rem;height:8rem;cursor:pointer;-webkit-transition:.2s;transition:.2s;}","i.jsx-2814629420:hover{font-size:9rem;height:9rem;}",".delete.jsx-2814629420{position:absolute;right:-50px;top:50%;}",".delete.jsx-2814629420 i.jsx-2814629420{background:none;color:black;font-size:2rem;}",".delete.jsx-2814629420 i.jsx-2814629420:hover{background:black;color:white;}"]))},N=c.a.createElement,k=c.a.memo((function(e){var t=e.setList,n=e.setLinkList;return N("div",{className:"jsx-1377131071 addG"},N("ul",{className:"jsx-1377131071"},N("li",{className:"jsx-1377131071"},N("i",{onClick:function(){var e=localStorage.getItem("article-content-object");if(e){var n=JSON.parse(e);n.push({key:"content-id-"+(n.length+1),type:"text",value:""});var o=JSON.stringify(n);localStorage.setItem("article-content-object",o),t(n)}},className:"jsx-1377131071 iconfont icon-file-text"})),N("li",{className:"jsx-1377131071"},N("i",{onClick:function(){var e=localStorage.getItem("article-content-object");if(e){var n=JSON.parse(e);n.push({key:"content-id-"+(n.length+1),type:"photo",title:""});var o=JSON.stringify(n);localStorage.setItem("article-content-object",o),t(n)}},className:"jsx-1377131071 iconfont icon-image"})),N("li",{className:"jsx-1377131071"},N("i",{onClick:function(){n((function(e){return[].concat(Object(j.a)(e),["a"])}))},className:"jsx-1377131071 iconfont icon-link"}))),N(i.a,{id:"1377131071"},[".addG.jsx-1377131071{position:fixed;top:50%;left:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);}","li.jsx-1377131071{height:40px;width:40px;background:black;border-radius:50%;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:1rem 0.5rem;-webkit-transition:.4s;transition:.4s;}","li.jsx-1377131071:hover{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2);}","i.jsx-1377131071{color:white;font-size:20px;}"]))})),w=function(e){var t=e.setLinkList;Object(s.useEffect)((function(){var e=localStorage.getItem("article-content-object");if(e){var t=JSON.parse(e);a(t)}else{var n=JSON.stringify([{key:"content-id-1",type:"text",value:""}]);localStorage.setItem("article-content-object",n)}}),[]);var n=Object(s.useState)([{key:"content-id-1",type:"text",value:""}]),o=n[0],a=n[1],r=function(e,t){var n=e.target;n.style.height=n.scrollHeight>n.offsetHeight?n.scrollHeight+10+"px":n.offsetHeight+"px";var o=localStorage.getItem("article-content-object");if(o){var r=JSON.parse(o);r[t].value=e.target.value,localStorage.setItem("article-content-object",JSON.stringify(r)),a(r)}};return N("div",{className:"jsx-2699354276 row Content  mx-0"},N(k,{setList:a,id:o,setLinkList:t}),N("div",{className:"jsx-2699354276 col-8 offset-2"},o.map((function(e,t){return"text"===e.type?N("div",{key:e.key,className:"jsx-2699354276 row content-item position-relative"},N("textarea",{name:"message",required:0===t,value:e.value,onInput:function(e){return r(e,t)},onChange:function(e){return r(e,t)},className:"jsx-2699354276 w-100 px-4"}),N("div",{onClick:function(){return function(e){if(1!==o.filter((function(e){return"text"===e.type})).length){var t=o.filter((function(t,n){return n!==e}));a(t),localStorage.setItem("article-content-object",JSON.stringify(t))}}(t)},className:"jsx-2699354276 delete"},N("i",{className:"jsx-2699354276 iconfont icon-trash-"}))):"photo"===e.type?N(y,{key:e.key,state:o,setState:a,title:e.title,index:t,name:e.key}):void 0}))),N(i.a,{id:"2699354276"},[".Content.jsx-2699354276{margin-top:10rem;border-bottom:2px solid #eaeaea;}",".content-item.jsx-2699354276{margin-bottom:5rem;}","textarea.jsx-2699354276{font-size:2.5rem;line-height:2;min-height:40vh;}",".delete.jsx-2699354276{position:absolute;right:-50px;top:50%;}",".delete.jsx-2699354276 i.jsx-2699354276{background:none;color:black;}",".delete.jsx-2699354276 i.jsx-2699354276:hover{background:black;color:white;}","i.jsx-2699354276{color:white;font-size:2rem;padding:0.5rem;background:#3a5999;border-radius:50%;cursor:pointer;}"]))},S=c.a.createElement,O=function(e){var t=e.List;return Object(s.useEffect)((function(){p("textarea[name='about-article-text']","about-article-text")}),[]),S("div",{className:"row about m-0"},S("div",{className:"col-8  offset-2"},S("div",{className:"row"},S("h3",{className:"my-4 col-12"},"ABOUT ARTICLE"),S("div",{className:"col-12 content-item"},S("textarea",{name:"about-article-text",onChange:function(e){return m("about-article-text",e.target.value)},className:"w-100 h3 p-4",required:!0})),S("div",{className:"col-12 content-item my-4"},t&&t.map((function(e,t){return S(c.a.Fragment,{key:t},S("input",{type:"text",name:"a-link-".concat(t),placeholder:"Link",className:"px-4 py-2 col-6 h4",onChange:function(e){return m("about-article-link",e.target.value)},required:!0}),S("input",{type:"text",name:"a-link-title-".concat(t),placeholder:"Link Title",className:"px-4 py-2 ml-5 h4",onChange:function(e){return m("about-article-linkTitle",e.target.value)},required:!0}))}))),S("div",{className:"col-12"},S("div",{className:"row justify-content-end"},S("button",{type:"submit shadow-sm"},"Commit"))))),S("style",null,"\n                .about {\n                    border-bottom:2px solid #eaeaea;\n                    padding:10rem 0;\n                }\n                h3 {\n                   font-size:2.5rem;\n                   line-height:2;\n               }\n               h4 {\n                   font-size:2rem;\n                   line-height:1.5;\n               }\n               textarea  {\n                   min-height:15vh;                  \n               }\n                button {\n                    border:none;\n                    background:black;\n                    color:white;\n                    padding:1rem 2rem;\n                    font-size:2rem;\n                    transition:.4s;\n                    font-weight:700;\n                }\n                button:hover {\n                    background:white;\n                    color:black;\n                }\n            "))},C=c.a.createElement,L=function(){return C("footer",{className:"jsx-919842634 row p-5 justify-content-center mx-0 "},C("div",{className:"jsx-919842634 col-auto"},C("h3",{className:"jsx-919842634"},"2020 iconsquare All rights reserved")),C(i.a,{id:"919842634"},["footer.jsx-919842634{background:rgba(0,0,0,0.7);color:white;margin-top:10%;}","h3.jsx-919842634{font-size:2rem;}"]))},I=c.a.createElement;t.default=function(){var e=function(e){var t,n,o,r,i,s,c;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,"http://zhengfen.top:4040/addArticle/add",l.next=4,a.a.awrap(fetch("http://zhengfen.top:4040/addArticle/add",{method:"POST",body:e}));case 4:return t=l.sent,l.next=7,a.a.awrap(t.json());case 7:if(n=l.sent,t.ok){for(o=Object.keys(localStorage),r=0,i=o;r<i.length;r++)"author-name"!==(s=i[r])&&"article-key"!==s&&localStorage.removeItem(s);(c=indexedDB.open("article-store",2)).onsuccess=function(){var e,t,n,o;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e=c.result,t=e.transaction("photoBuffer","readwrite"),n=t.objectStore("photoBuffer"),(o=n.getAllKeys()).onsuccess=function(){o.result.map((function(e){"article-author-photo"!==e&&(n.delete(e),console.log("delete"))})),window.location.reload()};case 5:case"end":return a.stop()}}),null,null,null,Promise)}}else alert(n);l.next=14;break;case 11:l.prev=11,l.t0=l.catch(0),console.log(l.t0);case 14:case"end":return l.stop()}}),null,null,[[0,11]],Promise)},t=Object(s.useState)(["a"]),n=t[0],o=t[1];return I(c.a.Fragment,null,I(u.a,null,I("title",{className:"jsx-680210942"},"\u7f16\u5199\u6587\u7ae0"),I("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css",integrity:"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh",crossorigin:"anonymous",className:"jsx-680210942"}),I("link",{rel:"stylesheet",href:"//at.alicdn.com/t/font_1748919_7p01375xskx.css",className:"jsx-680210942"}),I("link",{rel:"icon",href:"/logo.jpg",type:"image/x-icon",className:"jsx-680210942"})),I("div",{className:"jsx-680210942 container-fluid"},I("nav",{className:"jsx-680210942"},I(f.a,null,I("img",{src:"article-bg.jpg",alt:"bg",className:"jsx-680210942"}))),I("form",{onSubmit:function(t){t.preventDefault();var o=new FormData(t.target),r=localStorage.getItem("article-content-object"),i=JSON.parse(r).filter((function(e){return"photo"===e.type}));i.push({key:"article-author-photo"});var s=indexedDB.open("article-store",2);s.onsuccess=function(){var t,c,l,u;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=s.result,c=t.transaction("photoBuffer"),l=c.objectStore("photoBuffer"),u=i.map((function(e){return new Promise((function(t,n){var o=l.get(e.key);o.onsuccess=function(){o.result?t({file:o.result.file,name:e.key}):n("\u6709\u4e00\u4e2a\u56fe\u7247\u677f\u5757\u6ca1\u6709\u6587\u4ef6\u3002\u8bf7\u4e0a\u4f20\u6216\u662f\u5220\u9664\u70b9\u8fd9\u4e2a\u677f\u5757")}}))})),Promise.all(u).then((function(t){t.map((function(e){o.append(e.name,e.file)})),o.append("article-content-main",r),o.append("link-count",n.length),e(o)})).catch(alert);case 5:case"end":return a.stop()}}),null,null,null,Promise)}},className:"jsx-680210942"},I(v,null),I(w,{setLinkList:o}),I(O,{List:n})),I(L,null)),I(i.a,{id:"680210942"},["*,body{margin:0;padding:0;box-sizing:border-box;}","html{font-size:10px;}",".container-fluid{padding:0;}"]))}}},[["QL8R",0,2,1,3,4]]]);