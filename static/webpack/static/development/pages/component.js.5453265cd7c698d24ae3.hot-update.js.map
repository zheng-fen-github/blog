{"version":3,"file":"static/webpack/static\\development\\pages\\component.js.5453265cd7c698d24ae3.hot-update.js","sources":["webpack:///./component/component/content.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport Code from \"./code\";\r\nimport Pagination from \"./Pagination\";\r\nimport { connect } from \"react-redux\";\r\nimport Anima from \"../public/anima\";\r\nconst Content = ({ type, action, data, loading }) => {\r\n  const [code, setCode] = useState(null);\r\n  const [shareS, setShareS] = useState(false);\r\n  const getphoto = async () => {\r\n    try {\r\n      action({\r\n        type: \"LADING_CONTENN\",\r\n        loading: true,\r\n      });\r\n      action({\r\n        type: \"ALL_CONTENT\",\r\n        data: [],\r\n      });\r\n      const QURL = process.env.DATA_URL + \"getComponent/get/\" + type;\r\n      let get = await fetch(QURL);\r\n      if (get.ok) {\r\n        let message = await get.json();\r\n        action({\r\n          type: \"ALL_CONTENT\",\r\n          data: message,\r\n        });\r\n        action({\r\n          type: \"LADING_CONTENN\",\r\n          loading: false,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const arrayResult = useCallback(\r\n    data.filter((e) => !e.filter),\r\n    [data]\r\n  );\r\n  useEffect(() => {\r\n    getphoto();\r\n  }, [type]);\r\n  const shareEvent = (boob) => {\r\n    setCode(false);\r\n    if (boob) {\r\n      setShareS(true);\r\n      setTimeout(() => setShareS(false), 1500);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"row code-content\">\r\n      {data.length > 0 && (\r\n        <>\r\n          <div className=\"col-12 code-count\">\r\n            <h1>显示 {arrayResult.length} 个组件</h1>\r\n          </div>\r\n          <Pagination type={type} codeList={arrayResult} setCode={setCode} />\r\n        </>\r\n      )}\r\n\r\n      {data.length === 0 && !loading && <h1> 0 组件 </h1>}\r\n\r\n      {loading && (\r\n        <div className=\"col-12 my-5 d-flex justify-content-center\">\r\n          <Anima color=\"#fdd303\" />\r\n        </div>\r\n      )}\r\n      {code && <Code data={code} clear={shareEvent} />}\r\n      {shareS && (\r\n        <div className=\"sussWindow d-flex align-items-center justify-content-center\">\r\n          <h2>复制成功。</h2>\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>\r\n        {`\r\n          h3 {\r\n            margin: 2rem 1rem;\r\n            font-size: 2rem;\r\n          }\r\n          .code-count {\r\n            margin-bottom: 10rem;\r\n          }\r\n          .sussWindow {\r\n            position: fixed;\r\n            left: 50%;\r\n            top: 50%;\r\n            width: 160px;\r\n            height: 160px;\r\n            background: rgba(0, 0, 0, 0.8);\r\n            color: white;\r\n            border-radius: 10px;\r\n            transform: translate(-50%, -50%);\r\n            font-weight: 600;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\nconst stateEvent = (state) => ({\r\n  data: state.ContentReducer,\r\n  loading: state.TypeReducer.loading,\r\n});\r\nconst dispatch = (dispatch) => ({ action: dispatch });\r\n\r\nexport default connect(stateEvent, dispatch)(Content);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AAVA;AAAA;AACA;AADA;AAWA;AACA;AAZA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAaA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AACA;AAnBA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAwBA;AACA;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA0BA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AAAA;AAAA;AAiDA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;A","sourceRoot":""}