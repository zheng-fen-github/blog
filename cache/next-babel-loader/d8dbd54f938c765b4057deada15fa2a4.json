{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from \"react\";\nimport fetch from \"node-fetch\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Nav from \"../component/public/nav\";\nimport MinNav from \"../component/articleList/minNav\";\nimport ContentList from \"../component/articleList/contentList\";\nimport Footer from \"../component/articleList/footer\";\n\nconst ArticleList = ({\n  data,\n  list,\n  count\n}) => {\n  useEffect(() => {\n    if (!data) {\n      Router.push(\"/500\");\n    }\n  }, []);\n  const {\n    0: routerStatus,\n    1: setRouterStatus\n  } = useState(false);\n\n  const handleRouteChange = () => {\n    setRouterStatus(true);\n  };\n\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\n  const {\n    0: state,\n    1: setState\n  } = useState(data);\n  const {\n    0: initState,\n    1: setInitState\n  } = useState({\n    data,\n    count\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: page,\n    1: setPage\n  } = useState(count);\n  const {\n    0: type,\n    1: setType\n  } = useState(null);\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-2182261789\"\n  }, \"Article\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\",\n    crossorigin: \"anonymous\",\n    className: \"jsx-2182261789\"\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"//at.alicdn.com/t/font_1748919_piihixc593j.css\",\n    className: \"jsx-2182261789\"\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/logo.jpg\",\n    type: \"image/x-icon\",\n    className: \"jsx-2182261789\"\n  })), __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"container-fluid\"\n  }, __jsx(\"nav\", {\n    className: \"jsx-2182261789\" + \" \" + \"row mx-0\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"col-12 px-0\"\n  }, __jsx(Nav, null, __jsx(\"img\", {\n    src: \"article-list-bg.jpg\",\n    alt: \"bg\",\n    className: \"jsx-2182261789\"\n  })))), __jsx(MinNav, {\n    setState: setState,\n    setType: setType,\n    setPage: setPage,\n    setLoad: setLoading,\n    list: list,\n    oldState: initState,\n    setPage: setPage\n  }), __jsx(ContentList, {\n    state: state,\n    type: type,\n    setState: setState,\n    loading: loading,\n    count: page\n  }), __jsx(Footer, null), routerStatus && __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"loadAnima\"\n  }, \" \")), __jsx(_JSXStyle, {\n    id: \"2182261789\"\n  }, [\"*,body{margin:0;padding:0;box-sizing:border-box;}\", \"img{width:100%;height:auto;}\", \"html{font-size:10px;}\", \".container-fluid{padding:0;overflow-x:hidden;}\", \"@media (max-width:600px){html{font-size:6px;}}\", \"@media (max-width:400px){html{font-size:5px;}}\"]));\n};\n\nexport const getServerSideProps = async () => {\n  const RURL = process.env.DATA_URL + \"addArticle/gotArticleList/1\";\n  let res = await fetch(RURL);\n  if (res.status === 404) return {\n    props: {\n      data: null\n    }\n  };\n  let result = await res.json();\n  console.log(result);\n  return {\n    props: {\n      data: result.data,\n      list: result.list,\n      count: result.count\n    }\n  };\n};\nexport default ArticleList;","map":null,"metadata":{},"sourceType":"module"}