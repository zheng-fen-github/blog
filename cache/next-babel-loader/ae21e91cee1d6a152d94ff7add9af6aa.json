{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\pages\\\\article-list.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Nav from \"../component/public/nav\";\nimport MinNav from \"../component/articleList/min-nav\";\nimport ContentList from \"../component/articleList/contentList\";\nimport Footer from \"../component/articleList/footer\";\n\nvar ArticleList = function ArticleList(_ref) {\n  var _jsx;\n\n  var data = _ref.data,\n      list = _ref.list,\n      count = _ref.count;\n  useEffect(function () {\n    if (!data) {\n      Router.push(\"/500\");\n    }\n  }, []);\n\n  var _useState = useState(false),\n      routerStatus = _useState[0],\n      setRouterStatus = _useState[1];\n\n  var handleRouteChange = function handleRouteChange() {\n    setRouterStatus(true);\n  };\n\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\n\n  var _useState2 = useState(data),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState({\n    data: data,\n    count: count\n  }),\n      initState = _useState3[0],\n      setInitState = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(count),\n      page = _useState5[0],\n      setPage = _useState5[1];\n\n  var _useState6 = useState(null),\n      type = _useState6[0],\n      setType = _useState6[1];\n\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-2182261789\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Article\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\",\n    crossorigin: \"anonymous\",\n    className: \"jsx-2182261789\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"//at.alicdn.com/t/font_1748919_piihixc593j.css\",\n    className: \"jsx-2182261789\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/logo.jpg\",\n    type: \"image/x-icon\",\n    className: \"jsx-2182261789\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"nav\", {\n    className: \"jsx-2182261789\" + \" \" + \"row mx-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"col-12 px-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(Nav, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"article-list-bg.jpg\",\n    alt: \"bg\",\n    className: \"jsx-2182261789\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  })))), __jsx(MinNav, (_jsx = {\n    setState: setState,\n    setType: setType,\n    setPage: setPage,\n    setLoad: setLoading,\n    list: list,\n    oldState: initState\n  }, _defineProperty(_jsx, \"setPage\", setPage), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }), _jsx)), __jsx(ContentList, {\n    state: state,\n    type: type,\n    setState: setState,\n    loading: loading,\n    count: page,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }), __jsx(Footer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), routerStatus && __jsx(\"div\", {\n    className: \"jsx-2182261789\" + \" \" + \"loadAnima\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \" \")), __jsx(_JSXStyle, {\n    id: \"2182261789\",\n    __self: _this\n  }, \"*,body{margin:0;padding:0;box-sizing:border-box;}img{width:100%;height:auto;}html{font-size:10px;}.container-fluid{padding:0;overflow-x:hidden;}@media (max-width:600px){html{font-size:6px;}}@media (max-width:400px){html{font-size:5px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXHBhZ2VzXFxhcnRpY2xlLWxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOEV5QixBQUlvQixBQUtFLEFBSUksQUFHTCxBQUtNLEFBS0EsU0FyQk4sQ0FZUSxDQVBOLEdBWVosQUFLQSxDQWJGLElBUndCLElBS3hCLEtBT0EsYUFYQSIsImZpbGUiOiJDOlxcbmV3bGlmZVxcbmV3U2l0ZVxcbXktYXBwXFxwYWdlc1xcYXJ0aWNsZS1saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcIm5vZGUtZmV0Y2hcIjtcclxuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xyXG5pbXBvcnQgUm91dGVyIGZyb20gXCJuZXh0L3JvdXRlclwiO1xyXG5cclxuaW1wb3J0IE5hdiBmcm9tIFwiLi4vY29tcG9uZW50L3B1YmxpYy9uYXZcIjtcclxuaW1wb3J0IE1pbk5hdiBmcm9tIFwiLi4vY29tcG9uZW50L2FydGljbGVMaXN0L21pbi1uYXZcIjtcclxuaW1wb3J0IENvbnRlbnRMaXN0IGZyb20gXCIuLi9jb21wb25lbnQvYXJ0aWNsZUxpc3QvY29udGVudExpc3RcIjtcclxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi4vY29tcG9uZW50L2FydGljbGVMaXN0L2Zvb3RlclwiO1xyXG5cclxuY29uc3QgQXJ0aWNsZUxpc3QgPSAoeyBkYXRhLCBsaXN0LCBjb3VudCB9KSA9PiB7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICBSb3V0ZXIucHVzaChcIi81MDBcIik7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBbcm91dGVyU3RhdHVzLCBzZXRSb3V0ZXJTdGF0dXNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgc2V0Um91dGVyU3RhdHVzKHRydWUpO1xyXG4gIH07XHJcbiAgUm91dGVyLmV2ZW50cy5vbihcInJvdXRlQ2hhbmdlU3RhcnRcIiwgaGFuZGxlUm91dGVDaGFuZ2UpO1xyXG5cclxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGRhdGEpO1xyXG4gIGNvbnN0IFtpbml0U3RhdGUsIHNldEluaXRTdGF0ZV0gPSB1c2VTdGF0ZSh7IGRhdGEsIGNvdW50IH0pO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZShjb3VudCk7XHJcbiAgY29uc3QgW3R5cGUsIHNldFR5cGVdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8SGVhZD5cclxuICAgICAgICA8dGl0bGU+QXJ0aWNsZTwvdGl0bGU+XHJcbiAgICAgICAgPGxpbmtcclxuICAgICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxyXG4gICAgICAgICAgaHJlZj1cImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vYm9vdHN0cmFwQDQuNC4xL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzXCJcclxuICAgICAgICAgIGludGVncml0eT1cInNoYTM4NC1Wa29vOHg0Q0dzTzMrSGh4djhUL1E1UGFYdGtLdHU2dWc1VE9lTlY2Z0JpRmVXUEdGTjlNdWhPZjIzUTlJZmpoXCJcclxuICAgICAgICAgIGNyb3Nzb3JpZ2luPVwiYW5vbnltb3VzXCJcclxuICAgICAgICA+PC9saW5rPlxyXG4gICAgICAgIDxsaW5rXHJcbiAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCJcclxuICAgICAgICAgIGhyZWY9XCIvL2F0LmFsaWNkbi5jb20vdC9mb250XzE3NDg5MTlfcGlpaGl4YzU5M2ouY3NzXCJcclxuICAgICAgICAvPlxyXG4gICAgICAgIDxsaW5rIHJlbD1cImljb25cIiBocmVmPVwiL2xvZ28uanBnXCIgdHlwZT1cImltYWdlL3gtaWNvblwiPjwvbGluaz5cclxuICAgICAgPC9IZWFkPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxyXG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPVwicm93IG14LTBcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIHB4LTBcIj5cclxuICAgICAgICAgICAgPE5hdj5cclxuICAgICAgICAgICAgICA8aW1nIHNyYz1cImFydGljbGUtbGlzdC1iZy5qcGdcIiBhbHQ9XCJiZ1wiIC8+XHJcbiAgICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9uYXY+XHJcblxyXG4gICAgICAgIDxNaW5OYXZcclxuICAgICAgICAgIHNldFN0YXRlPXtzZXRTdGF0ZX1cclxuICAgICAgICAgIHNldFR5cGU9e3NldFR5cGV9XHJcbiAgICAgICAgICBzZXRQYWdlPXtzZXRQYWdlfVxyXG4gICAgICAgICAgc2V0TG9hZD17c2V0TG9hZGluZ31cclxuICAgICAgICAgIGxpc3Q9e2xpc3R9XHJcbiAgICAgICAgICBvbGRTdGF0ZT17aW5pdFN0YXRlfVxyXG4gICAgICAgICAgc2V0UGFnZT17c2V0UGFnZX1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICA8Q29udGVudExpc3RcclxuICAgICAgICAgIHN0YXRlPXtzdGF0ZX1cclxuICAgICAgICAgIHR5cGU9e3R5cGV9XHJcbiAgICAgICAgICBzZXRTdGF0ZT17c2V0U3RhdGV9XHJcbiAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxyXG4gICAgICAgICAgY291bnQ9e3BhZ2V9XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICAgICAgPEZvb3RlciAvPlxyXG4gICAgICAgIHtyb3V0ZXJTdGF0dXMgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkQW5pbWFcIj4gey8qICDot6/nlLHlj5jljJbml7Yg5o+Q56S65Yqo55S7ICovfTwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcclxuICAgICAgICAqLFxyXG4gICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGltZyB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICB9XHJcbiAgICAgICAgaHRtbCB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5jb250YWluZXItZmx1aWQge1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7XHJcbiAgICAgICAgICBodG1sIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiA2cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MDBweCkge1xyXG4gICAgICAgICAgaHRtbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogNXB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgUlVSTCA9IHByb2Nlc3MuZW52LkRBVEFfVVJMICsgXCJhZGRBcnRpY2xlL2dvdEFydGljbGVMaXN0LzFcIjtcclxuICBsZXQgcmVzID0gYXdhaXQgZmV0Y2goUlVSTCk7XHJcbiAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCkgcmV0dXJuIHsgcHJvcHM6IHsgZGF0YTogbnVsbCB9IH07XHJcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxyXG4gICAgICBsaXN0OiByZXN1bHQubGlzdCxcclxuICAgICAgY291bnQ6IHJlc3VsdC5jb3VudCxcclxuICAgIH0sXHJcbiAgfTtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZUxpc3Q7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\pages\\\\\\\\article-list.js */\"));\n};\n\nexport var __N_SSP = true;\nexport default ArticleList;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/pages/article-list.js"],"names":["React","useEffect","useState","useRef","Head","Router","Nav","MinNav","ContentList","Footer","ArticleList","data","list","count","push","routerStatus","setRouterStatus","handleRouteChange","events","on","state","setState","initState","setInitState","loading","setLoading","page","setPage","type","setType"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport fetch from \"node-fetch\";\r\nimport Head from \"next/head\";\r\nimport Router from \"next/router\";\r\n\r\nimport Nav from \"../component/public/nav\";\r\nimport MinNav from \"../component/articleList/min-nav\";\r\nimport ContentList from \"../component/articleList/contentList\";\r\nimport Footer from \"../component/articleList/footer\";\r\n\r\nconst ArticleList = ({ data, list, count }) => {\r\n  useEffect(() => {\r\n    if (!data) {\r\n      Router.push(\"/500\");\r\n    }\r\n  }, []);\r\n\r\n  const [routerStatus, setRouterStatus] = useState(false);\r\n  const handleRouteChange = () => {\r\n    setRouterStatus(true);\r\n  };\r\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\r\n\r\n  const [state, setState] = useState(data);\r\n  const [initState, setInitState] = useState({ data, count });\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(count);\r\n  const [type, setType] = useState(null);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Article</title>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\"\r\n          integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\r\n          crossorigin=\"anonymous\"\r\n        ></link>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"//at.alicdn.com/t/font_1748919_piihixc593j.css\"\r\n        />\r\n        <link rel=\"icon\" href=\"/logo.jpg\" type=\"image/x-icon\"></link>\r\n      </Head>\r\n      <div className=\"container-fluid\">\r\n        <nav className=\"row mx-0\">\r\n          <div className=\"col-12 px-0\">\r\n            <Nav>\r\n              <img src=\"article-list-bg.jpg\" alt=\"bg\" />\r\n            </Nav>\r\n          </div>\r\n        </nav>\r\n\r\n        <MinNav\r\n          setState={setState}\r\n          setType={setType}\r\n          setPage={setPage}\r\n          setLoad={setLoading}\r\n          list={list}\r\n          oldState={initState}\r\n          setPage={setPage}\r\n        />\r\n\r\n        <ContentList\r\n          state={state}\r\n          type={type}\r\n          setState={setState}\r\n          loading={loading}\r\n          count={page}\r\n        />\r\n\r\n        <Footer />\r\n        {routerStatus && (\r\n          <div className=\"loadAnima\"> {/*  路由变化时 提示动画 */}</div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx global>{`\r\n        *,\r\n        body {\r\n          margin: 0;\r\n          padding: 0;\r\n          box-sizing: border-box;\r\n        }\r\n        img {\r\n          width: 100%;\r\n          height: auto;\r\n        }\r\n        html {\r\n          font-size: 10px;\r\n        }\r\n        .container-fluid {\r\n          padding: 0;\r\n          overflow-x: hidden;\r\n        }\r\n        @media (max-width: 600px) {\r\n          html {\r\n            font-size: 6px;\r\n          }\r\n        }\r\n        @media (max-width: 400px) {\r\n          html {\r\n            font-size: 5px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = async () => {\r\n  const RURL = process.env.DATA_URL + \"addArticle/gotArticleList/1\";\r\n  let res = await fetch(RURL);\r\n  if (res.status === 404) return { props: { data: null } };\r\n  let result = await res.json();\r\n  return {\r\n    props: {\r\n      data: result.data,\r\n      list: result.list,\r\n      count: result.count,\r\n    },\r\n  };\r\n};\r\nexport default ArticleList;\r\n"]},"metadata":{},"sourceType":"module"}