{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\articleList\\\\min-nav.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useRef } from \"react\";\n\nconst MinNav = ({\n  setState,\n  setLoad,\n  setType,\n  list,\n  oldState,\n  setPage\n}) => {\n  let dom = useRef();\n\n  const updateShow = async e => {\n    try {\n      let activeDom = e.target.closest(\"li\");\n      if (!activeDom) return;\n      let oldDom = dom.current;\n      if (oldDom) oldDom.classList.remove(\"seled\");\n      let type = activeDom.children[0].textContent;\n\n      if (type === \"All\") {\n        setState(oldState.data);\n        setPage(oldState.count);\n        setType(null);\n        return;\n      }\n\n      activeDom.classList.add(\"seled\"); //选中的元素添加样式\n\n      dom.current = activeDom;\n      setState([]); //搜索指定文章\n\n      setLoad(true);\n      let data = await gotData(type);\n\n      if (Array.isArray(data.data)) {\n        setState(data.data);\n        setPage(data.count);\n        setType(type);\n      }\n\n      setLoad(false);\n    } catch (err) {\n      if (err) console.log(err);\n      console.log(\"列表元素样式切换失败\");\n    }\n  };\n\n  const searchEvent = async e => {\n    e.stopPropagation();\n    let actionDom = e.target.closest(\"li\");\n    let searchDom = document.querySelector(\"i.active\");\n\n    if (searchDom) {\n      let dom = document.querySelector('input[name=\"search\"]');\n      let value = dom.value[0].toUpperCase() + dom.value.slice(1);\n      setLoad(true);\n      let data = await gotData(value);\n\n      if (Array.isArray(data.data)) {\n        setState(data.data);\n        setPage(data.count);\n        setType(value);\n        dom.value = \"\";\n        searchDom.classList.remove(\"active\");\n        actionDom.click();\n      }\n\n      setLoad(false);\n      return;\n    }\n\n    let dom = document.querySelector(\".search-input.focus\");\n\n    if (dom) {\n      dom.classList.remove(\"focus\");\n      actionDom.classList.remove(\"seled\");\n    } else {\n      dom = document.querySelector(\".search-input\");\n      dom.classList.add(\"focus\");\n    }\n  };\n\n  const gotData = async type => {\n    try {\n      const RURL = process.env.DATA_URL + \"addArticle/gotArticle/type/\" + type + \"?page=1\";\n      let res = await fetch(RURL);\n      let result = await res.json();\n      return result;\n    } catch (err) {\n      console.log(err);\n      return {\n        err\n      };\n    }\n  };\n\n  const InputSearchEvent = e => {\n    let value = e.target.value;\n    let dom = document.querySelector(\".iconfont.icon-search\");\n\n    if (value) {\n      dom.classList.add(\"active\");\n    } else {\n      dom.classList.remove(\"active\");\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-3149207754\" + \" \" + \"row m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3149207754\" + \" \" + \"col-12 .col-md-11 min-nav  p-5 pffset-0 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(\"ul\", {\n    onClick: updateShow,\n    className: \"jsx-3149207754\" + \" \" + \"d-flex m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, list.map((type, index) => __jsx(\"li\", {\n    key: index,\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, type))), __jsx(\"li\", {\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"All\")), __jsx(\"li\", {\n    onClick: searchEvent,\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3149207754\" + \" \" + \"iconfont icon-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  })))), __jsx(\"div\", {\n    className: \"jsx-3149207754\" + \" \" + \"row  search-input  mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    name: \"search\",\n    placeholder: \"Type\",\n    onInput: InputSearchEvent,\n    className: \"jsx-3149207754\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }))), __jsx(_JSXStyle, {\n    id: \"3149207754\",\n    __self: this\n  }, \".min-nav.jsx-3149207754{color:white;background:black;position:relative;}.search-input.jsx-3149207754{background:black;position:absolute;top:0;right:-100%;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);-webkit-transition:0.5s;transition:0.5s;padding:2rem 4rem;z-index:20;}.search-input.focus.jsx-3149207754{right:15%;}.search-input.jsx-3149207754 input.jsx-3149207754{width:100%;margin:0 auto;font-size:2.5rem;text-align:center;}ul.jsx-3149207754{list-style:none;}li.jsx-3149207754{-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;-webkit-transition:0.4s;transition:0.4s;text-align:center;}li.jsx-3149207754:hover,li.seled.jsx-3149207754{opacity:0.5;-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);transform:translateY(-25%);}h3.jsx-3149207754{font-size:2.5rem;text-align:center;}i.jsx-3149207754{font-size:2.5rem;}i.active.jsx-3149207754{color:#133d93;}@media (max-width:980px){.min-nav.jsx-3149207754{-webkit-transform:translateY(00%);-ms-transform:translateY(00%);transform:translateY(00%);}}@media (max-width:1100px){.search-input.jsx-3149207754 input.jsx-3149207754{font-size:1.2rem;}}@media (max-width:800px){h3.jsx-3149207754{font-size:2rem;}}@media (max-width:400px){h3.jsx-3149207754{font-size:1rem;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcYXJ0aWNsZUxpc3RcXG1pbi1uYXYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUhTLEFBR3lCLEFBTUssQUFVUCxBQUlDLEFBTUssQUFHVCxBQU9LLEFBSUssQUFJQSxBQUdILEFBSWMsQUFLVCxBQUtGLEFBS0EsVUFqRG5CLENBSWdCLENBcEJHLEFBb0NVLEVBVzdCLENBY0UsQUFLQSxDQXhDRixDQXBCb0IsQUFrQ0EsQUFJcEIsQUFZRSxRQW5DaUIsSUFuQkMsSUEyQkgsRUF0QlQsQUFrQ1IsTUFqQ2MsQ0FjTSxLQW5CcEIsQ0EyQmtCLEtBckJZLE9BYzlCLDRCQVFvQixFQW9CbEIsZUFkRixDQUxBLDJDQXRCa0Isd0NBQ0Usa0JBQ1AsV0FDYiIsImZpbGUiOiJDOlxcbmV3bGlmZVxcbmV3U2l0ZVxcbXktYXBwXFxjb21wb25lbnRcXGFydGljbGVMaXN0XFxtaW4tbmF2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuY29uc3QgTWluTmF2ID0gKHsgc2V0U3RhdGUsIHNldExvYWQsIHNldFR5cGUsIGxpc3QsIG9sZFN0YXRlLCBzZXRQYWdlIH0pID0+IHtcclxuICBsZXQgZG9tID0gdXNlUmVmKCk7XHJcbiAgY29uc3QgdXBkYXRlU2hvdyA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsZXQgYWN0aXZlRG9tID0gZS50YXJnZXQuY2xvc2VzdChcImxpXCIpO1xyXG4gICAgICBpZiAoIWFjdGl2ZURvbSkgcmV0dXJuO1xyXG4gICAgICBsZXQgb2xkRG9tID0gZG9tLmN1cnJlbnQ7XHJcbiAgICAgIGlmIChvbGREb20pIG9sZERvbS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWRcIik7XHJcbiAgICAgIGxldCB0eXBlID0gYWN0aXZlRG9tLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICBpZiAodHlwZSA9PT0gXCJBbGxcIikge1xyXG4gICAgICAgIHNldFN0YXRlKG9sZFN0YXRlLmRhdGEpO1xyXG4gICAgICAgIHNldFBhZ2Uob2xkU3RhdGUuY291bnQpO1xyXG4gICAgICAgIHNldFR5cGUobnVsbCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFjdGl2ZURvbS5jbGFzc0xpc3QuYWRkKFwic2VsZWRcIik7IC8v6YCJ5Lit55qE5YWD57Sg5re75Yqg5qC35byPXHJcbiAgICAgIGRvbS5jdXJyZW50ID0gYWN0aXZlRG9tO1xyXG5cclxuICAgICAgc2V0U3RhdGUoW10pOyAvL+aQnOe0ouaMh+WumuaWh+eroFxyXG4gICAgICBzZXRMb2FkKHRydWUpO1xyXG4gICAgICBsZXQgZGF0YSA9IGF3YWl0IGdvdERhdGEodHlwZSk7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcclxuICAgICAgICBzZXRTdGF0ZShkYXRhLmRhdGEpO1xyXG4gICAgICAgIHNldFBhZ2UoZGF0YS5jb3VudCk7XHJcbiAgICAgICAgc2V0VHlwZSh0eXBlKTtcclxuICAgICAgfVxyXG4gICAgICBzZXRMb2FkKGZhbHNlKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIuWIl+ihqOWFg+e0oOagt+W8j+WIh+aNouWksei0pVwiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IHNlYXJjaEV2ZW50ID0gYXN5bmMgKGUpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBsZXQgYWN0aW9uRG9tID0gZS50YXJnZXQuY2xvc2VzdChcImxpXCIpO1xyXG4gICAgbGV0IHNlYXJjaERvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpLmFjdGl2ZVwiKTtcclxuICAgIGlmIChzZWFyY2hEb20pIHtcclxuICAgICAgbGV0IGRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJzZWFyY2hcIl0nKTtcclxuICAgICAgbGV0IHZhbHVlID0gZG9tLnZhbHVlWzBdLnRvVXBwZXJDYXNlKCkgKyBkb20udmFsdWUuc2xpY2UoMSk7XHJcbiAgICAgIHNldExvYWQodHJ1ZSk7XHJcbiAgICAgIGxldCBkYXRhID0gYXdhaXQgZ290RGF0YSh2YWx1ZSk7XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuZGF0YSkpIHtcclxuICAgICAgICBzZXRTdGF0ZShkYXRhLmRhdGEpO1xyXG4gICAgICAgIHNldFBhZ2UoZGF0YS5jb3VudCk7XHJcbiAgICAgICAgc2V0VHlwZSh2YWx1ZSk7XHJcbiAgICAgICAgZG9tLnZhbHVlID0gXCJcIjtcclxuICAgICAgICBzZWFyY2hEb20uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBhY3Rpb25Eb20uY2xpY2soKTtcclxuICAgICAgfVxyXG4gICAgICBzZXRMb2FkKGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1pbnB1dC5mb2N1c1wiKTtcclxuICAgIGlmIChkb20pIHtcclxuICAgICAgZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJmb2N1c1wiKTtcclxuICAgICAgYWN0aW9uRG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWlucHV0XCIpO1xyXG4gICAgICBkb20uY2xhc3NMaXN0LmFkZChcImZvY3VzXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgZ290RGF0YSA9IGFzeW5jICh0eXBlKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBSVVJMID1cclxuICAgICAgICBwcm9jZXNzLmVudi5EQVRBX1VSTCArIFwiYWRkQXJ0aWNsZS9nb3RBcnRpY2xlL3R5cGUvXCIgKyB0eXBlICsgXCI/cGFnZT0xXCI7XHJcbiAgICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaChSVVJMKTtcclxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBlcnIsXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgSW5wdXRTZWFyY2hFdmVudCA9IChlKSA9PiB7XHJcbiAgICBsZXQgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuICAgIGxldCBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmljb25mb250Lmljb24tc2VhcmNoXCIpO1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgIGRvbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgbS0wXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIC5jb2wtbWQtMTEgbWluLW5hdiAgcC01IHBmZnNldC0wIFwiPlxyXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJkLWZsZXggbS0wXCIgb25DbGljaz17dXBkYXRlU2hvd30+XHJcbiAgICAgICAgICB7bGlzdC5tYXAoKHR5cGUsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fT5cclxuICAgICAgICAgICAgICA8aDM+e3R5cGV9PC9oMz5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICkpfVxyXG5cclxuICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgPGgzPkFsbDwvaDM+XHJcbiAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgIDxsaSBvbkNsaWNrPXtzZWFyY2hFdmVudH0+XHJcbiAgICAgICAgICAgIDxoMz5cclxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpY29uZm9udCBpY29uLXNlYXJjaFwiPjwvaT5cclxuICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC91bD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyAgc2VhcmNoLWlucHV0ICBteC0wXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBuYW1lPVwic2VhcmNoXCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlXCJcclxuICAgICAgICAgICAgb25JbnB1dD17SW5wdXRTZWFyY2hFdmVudH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgLm1pbi1uYXYge1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG5cclxuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnNlYXJjaC1pbnB1dCB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgcmlnaHQ6IC0xMDAlO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjVzO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAycmVtIDRyZW07XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDIwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnNlYXJjaC1pbnB1dC5mb2N1cyB7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAxNSU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLnNlYXJjaC1pbnB1dCBpbnB1dCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyLjVyZW07XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHVsIHtcclxuICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxpIHtcclxuICAgICAgICAgICAgZmxleDogMTtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjRzO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsaTpob3ZlcixcclxuICAgICAgICAgIGxpLnNlbGVkIHtcclxuICAgICAgICAgICAgb3BhY2l0eTogMC41O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTI1JSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBoMyB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMi41cmVtO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyLjVyZW07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpLmFjdGl2ZSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMTMzZDkzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDk4MHB4KSB7XHJcbiAgICAgICAgICAgIC5taW4tbmF2IHtcclxuICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMDAlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDExMDBweCkge1xyXG4gICAgICAgICAgICAuc2VhcmNoLWlucHV0IGlucHV0IHtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDgwMHB4KSB7XHJcbiAgICAgICAgICAgIGgzIHtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA0MDBweCkge1xyXG4gICAgICAgICAgICBoMyB7XHJcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNaW5OYXY7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\component\\\\\\\\articleList\\\\\\\\min-nav.js */\"));\n};\n\nexport default MinNav;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/articleList/min-nav.js"],"names":["React","useRef","MinNav","setState","setLoad","setType","list","oldState","setPage","dom","updateShow","e","activeDom","target","closest","oldDom","current","classList","remove","type","children","textContent","data","count","add","gotData","Array","isArray","err","console","log","searchEvent","stopPropagation","actionDom","searchDom","document","querySelector","value","toUpperCase","slice","click","RURL","process","env","DATA_URL","res","fetch","result","json","InputSearchEvent","map","index"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\n\r\nconst MinNav = ({ setState, setLoad, setType, list, oldState, setPage }) => {\r\n  let dom = useRef();\r\n  const updateShow = async (e) => {\r\n    try {\r\n      let activeDom = e.target.closest(\"li\");\r\n      if (!activeDom) return;\r\n      let oldDom = dom.current;\r\n      if (oldDom) oldDom.classList.remove(\"seled\");\r\n      let type = activeDom.children[0].textContent;\r\n      if (type === \"All\") {\r\n        setState(oldState.data);\r\n        setPage(oldState.count);\r\n        setType(null);\r\n        return;\r\n      }\r\n      activeDom.classList.add(\"seled\"); //选中的元素添加样式\r\n      dom.current = activeDom;\r\n\r\n      setState([]); //搜索指定文章\r\n      setLoad(true);\r\n      let data = await gotData(type);\r\n      if (Array.isArray(data.data)) {\r\n        setState(data.data);\r\n        setPage(data.count);\r\n        setType(type);\r\n      }\r\n      setLoad(false);\r\n    } catch (err) {\r\n      if (err) console.log(err);\r\n      console.log(\"列表元素样式切换失败\");\r\n    }\r\n  };\r\n  const searchEvent = async (e) => {\r\n    e.stopPropagation();\r\n    let actionDom = e.target.closest(\"li\");\r\n    let searchDom = document.querySelector(\"i.active\");\r\n    if (searchDom) {\r\n      let dom = document.querySelector('input[name=\"search\"]');\r\n      let value = dom.value[0].toUpperCase() + dom.value.slice(1);\r\n      setLoad(true);\r\n      let data = await gotData(value);\r\n      if (Array.isArray(data.data)) {\r\n        setState(data.data);\r\n        setPage(data.count);\r\n        setType(value);\r\n        dom.value = \"\";\r\n        searchDom.classList.remove(\"active\");\r\n        actionDom.click();\r\n      }\r\n      setLoad(false);\r\n      return;\r\n    }\r\n\r\n    let dom = document.querySelector(\".search-input.focus\");\r\n    if (dom) {\r\n      dom.classList.remove(\"focus\");\r\n      actionDom.classList.remove(\"seled\");\r\n    } else {\r\n      dom = document.querySelector(\".search-input\");\r\n      dom.classList.add(\"focus\");\r\n    }\r\n  };\r\n  const gotData = async (type) => {\r\n    try {\r\n      const RURL =\r\n        process.env.DATA_URL + \"addArticle/gotArticle/type/\" + type + \"?page=1\";\r\n      let res = await fetch(RURL);\r\n      let result = await res.json();\r\n      return result;\r\n    } catch (err) {\r\n      console.log(err);\r\n      return {\r\n        err,\r\n      };\r\n    }\r\n  };\r\n\r\n  const InputSearchEvent = (e) => {\r\n    let value = e.target.value;\r\n    let dom = document.querySelector(\".iconfont.icon-search\");\r\n    if (value) {\r\n      dom.classList.add(\"active\");\r\n    } else {\r\n      dom.classList.remove(\"active\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"row m-0\">\r\n      <div className=\"col-12 .col-md-11 min-nav  p-5 pffset-0 \">\r\n        <ul className=\"d-flex m-0\" onClick={updateShow}>\r\n          {list.map((type, index) => (\r\n            <li key={index}>\r\n              <h3>{type}</h3>\r\n            </li>\r\n          ))}\r\n\r\n          <li>\r\n            <h3>All</h3>\r\n          </li>\r\n\r\n          <li onClick={searchEvent}>\r\n            <h3>\r\n              <i className=\"iconfont icon-search\"></i>\r\n            </h3>\r\n          </li>\r\n        </ul>\r\n        <div className=\"row  search-input  mx-0\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            placeholder=\"Type\"\r\n            onInput={InputSearchEvent}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>\r\n        {`\r\n          .min-nav {\r\n            color: white;\r\n            background: black;\r\n\r\n            position: relative;\r\n          }\r\n          .search-input {\r\n            background: black;\r\n            position: absolute;\r\n            top: 0;\r\n            right: -100%;\r\n            transform: translateY(-100%);\r\n            transition: 0.5s;\r\n            padding: 2rem 4rem;\r\n            z-index: 20;\r\n          }\r\n          .search-input.focus {\r\n            right: 15%;\r\n          }\r\n\r\n          .search-input input {\r\n            width: 100%;\r\n            margin: 0 auto;\r\n            font-size: 2.5rem;\r\n            text-align: center;\r\n          }\r\n          ul {\r\n            list-style: none;\r\n          }\r\n          li {\r\n            flex: 1;\r\n            cursor: pointer;\r\n            transition: 0.4s;\r\n            text-align: center;\r\n          }\r\n          li:hover,\r\n          li.seled {\r\n            opacity: 0.5;\r\n            transform: translateY(-25%);\r\n          }\r\n          h3 {\r\n            font-size: 2.5rem;\r\n            text-align: center;\r\n          }\r\n          i {\r\n            font-size: 2.5rem;\r\n          }\r\n          i.active {\r\n            color: #133d93;\r\n          }\r\n          @media (max-width: 980px) {\r\n            .min-nav {\r\n              transform: translateY(00%);\r\n            }\r\n          }\r\n          @media (max-width: 1100px) {\r\n            .search-input input {\r\n              font-size: 1.2rem;\r\n            }\r\n          }\r\n          @media (max-width: 800px) {\r\n            h3 {\r\n              font-size: 2rem;\r\n            }\r\n          }\r\n          @media (max-width: 400px) {\r\n            h3 {\r\n              font-size: 1rem;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MinNav;\r\n"]},"metadata":{},"sourceType":"module"}