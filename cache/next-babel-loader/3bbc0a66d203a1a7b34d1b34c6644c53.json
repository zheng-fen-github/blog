{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\login\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Load from '../public/loading';\n\nconst Index = ({\n  openEvent\n}) => {\n  useEffect(() => {\n    //自动输入账号\n    let account = localStorage.getItem('user-account');\n\n    if (account) {\n      let input = document.querySelector(\"input[name='account']\");\n      input.value = account;\n      document.querySelector(\"input[name='password']\").focus();\n    }\n  }, []);\n\n  const submitEv = async e => {\n    e.preventDefault();\n    let data = new FormData(e.target);\n    setLoading(true);\n\n    try {\n      let res = await fetch('http://localhost:4040/login', {\n        method: 'POST',\n        body: data\n      });\n      let result = await res.json();\n\n      if (res.ok) {\n        localStorage.setItem('user-account', data.get('account'));\n        document.documentElement.style.background = '#f7f7f7';\n        openEvent(result);\n      } else {\n        setLoading(false);\n        alert(result);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const {\n    0: Loading,\n    1: setLoading\n  } = useState(false);\n  return __jsx(\"div\", {\n    className: \"jsx-1419307597\" + \" \" + 'row m-0',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1419307597\" + \" \" + \"main-root shadow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1419307597\" + \" \" + \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1419307597\" + \" \" + \"animation col-12 d-flex align-items-center justify-content-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, Loading ? __jsx(Load, {\n    color: \"#97cad9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 38\n    }\n  }) : __jsx(\"i\", {\n    className: \"jsx-1419307597\" + \" \" + 'iconfont icon-suo',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 63\n    }\n  })), __jsx(\"form\", {\n    onSubmit: submitEv,\n    className: \"jsx-1419307597\" + \" \" + \"form-root col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-1419307597\" + \" \" + 'title my-5',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 26\n    }\n  }, \"Login\"), __jsx(\"label\", {\n    htmlFor: \"account\",\n    className: \"jsx-1419307597\" + \" \" + 'col-12 h3 my-4',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 26\n    }\n  }, \"Account\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"account\",\n    id: \"account\",\n    autoFocus: true,\n    required: true,\n    className: \"jsx-1419307597\" + \" \" + 'w-100',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 26\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: \"jsx-1419307597\" + \" \" + 'col-12 h3 my-4',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 26\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    required: true,\n    className: \"jsx-1419307597\" + \" \" + 'w-100',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-1419307597\" + \" \" + 'my-5 h2 shadow-sm',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"LOGIN\")))), __jsx(_JSXStyle, {\n    id: \"1419307597\",\n    __self: this\n  }, \".main-root.jsx-1419307597{width:480px;position:fixed;top:50%;left:50%;border-radius:20px;overflow:hidden;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:white;}.animation.jsx-1419307597{height:200px;background:#fafeff;}.form-root.jsx-1419307597{padding:10%;padding-top:0;}i.jsx-1419307597{font-size:60px;color:#97cad9;}input.jsx-1419307597{font-size:3rem;border-radius:20px;border:solid #e5e5e5 2px;padding:1rem;}label.jsx-1419307597{margin:0;padding:0;color:#d5d6d9;}button.jsx-1419307597{width:100%;padding:1rem;font-size:3rem;background:#f3fcfe;border:none;color:#97cad9;font-weight:700;border-radius:10px;-webkit-transition:.2s;transition:.2s;}button.jsx-1419307597:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}h1.jsx-1419307597{color:#97cad9;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcbG9naW5cXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWtFeUIsQUFHbUMsQUFVRixBQUlELEFBSUcsQUFJQSxBQU1OLEFBS0UsQUFXVSxBQUdQLFNBbEJKLEVBS0csQ0FqQ0ssQUFjSixDQUpLLENBcUN0QixDQTdCaUIsQUFJSyxJQU9MLEtBS0MsRUFuQmxCLENBZGMsRUFrQmQsR0FSQSxDQW1CQSxDQVA0QixDQXJCYixJQWlDTyxLQWhDRyxjQWlDVixDQVpDLElBcEJNLE9BaUNMLEVBWmpCLEdBbUJBLElBdkNxQyxLQWlDbEIsZ0JBQ0csbUJBQ0osc0NBQ2xCLDJCQW5DdUIsaUJBQ3ZCIiwiZmlsZSI6IkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcbG9naW5cXGluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LHt1c2VTdGF0ZSx1c2VFZmZlY3R9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgTG9hZCBmcm9tICcuLi9wdWJsaWMvbG9hZGluZydcclxuXHJcbmNvbnN0IEluZGV4ID0gKHtvcGVuRXZlbnR9KSA9PiB7XHJcbiAgICB1c2VFZmZlY3QoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/oh6rliqjovpPlhaXotKblj7dcclxuICAgICAgICBsZXQgYWNjb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyLWFjY291bnQnKTtcclxuICAgICAgICBpZihhY2NvdW50KSB7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFtuYW1lPSdhY2NvdW50J11cIik7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYWNjb3VudDtcclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J3Bhc3N3b3JkJ11cIikuZm9jdXMoKTtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgIH0sIFtdKVxyXG4gICAgY29uc3Qgc3VibWl0RXYgPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgXHJcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoZS50YXJnZXQpO1xyXG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjQwNDAvbG9naW4nLHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDonUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBib2R5OmRhdGEsXHJcbiAgICAgICAgICAgIH0pICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAgcmVzLmpzb24oKTsgICAgXHJcbiAgICAgICAgICAgIGlmKHJlcy5vaykgeyAgIFxyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItYWNjb3VudCcsZGF0YS5nZXQoJ2FjY291bnQnKSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCAgPSAnI2Y3ZjdmNyc7ICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgb3BlbkV2ZW50KHJlc3VsdCk7ICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZXsgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgXHJcbiAgICAgICAgICAgICAgICBhbGVydChyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWNhdGNoKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0gICAgICAgICAgICAgICAgXHJcbiAgICB9ICAgIFxyXG4gICAgY29uc3QgW0xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdyb3cgbS0wJz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLXJvb3Qgc2hhZG93LXNtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0aW9uIGNvbC0xMiBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGluZyA/IDxMb2FkIGNvbG9yPScjOTdjYWQ5Jy8+IDo8aSBjbGFzc05hbWU9J2ljb25mb250IGljb24tc3VvJz48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0tcm9vdCBjb2wtMTJcIiBvblN1Ym1pdD17c3VibWl0RXZ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT0ndGl0bGUgbXktNSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dpbiAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiYWNjb3VudFwiIGNsYXNzTmFtZT0nY29sLTEyIGgzIG15LTQnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWNjb3VudFwiIGlkPVwiYWNjb3VudFwiIGF1dG9Gb2N1cyByZXF1aXJlZCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3ctMTAwJy8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPSdjb2wtMTIgaDMgbXktNCc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIiByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd3LTEwMCcvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9J215LTUgaDIgc2hhZG93LXNtJz4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0dJTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICA8c3R5bGUganN4PiB7YFxyXG4gICAgICAgICAgICAgICAgLm1haW4tcm9vdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6NDgwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246Zml4ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdG9wOjUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OjUwJTtcclxuICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjIwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcclxuICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgICAgICAgIC5hbmltYXRpb257XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjIwMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6I2ZhZmVmZjtcclxuICAgICAgICAgICAgICAgIH0gIFxyXG4gICAgICAgICAgICAgICAgLmZvcm0tcm9vdCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzoxMCU7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy10b3A6MDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTo2MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiM5N2NhZDk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbnB1dCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjNyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoyMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjpzb2xpZCAjZTVlNWU1IDJweDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjFyZW07XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgbGFiZWwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjowO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MDtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjojZDVkNmQ5O1xyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MXJlbTtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6M3JlbTtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiNmM2ZjZmU7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOm5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6Izk3Y2FkOTtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDo3MDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246LjJzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnV0dG9uOmhvdmVyIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06c2NhbGUoMS4xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGgxIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjojOTdjYWQ5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxyXG4gICAgICAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbmRleFxyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\component\\\\\\\\login\\\\\\\\index.js */\"));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/login/index.js"],"names":["React","useState","useEffect","Load","Index","openEvent","account","localStorage","getItem","input","document","querySelector","value","focus","submitEv","e","preventDefault","data","FormData","target","setLoading","res","fetch","method","body","result","json","ok","setItem","get","documentElement","style","background","alert","err","console","log","Loading"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport Load from '../public/loading'\r\n\r\nconst Index = ({openEvent}) => {\r\n    useEffect(() => {                                         //自动输入账号\r\n        let account = localStorage.getItem('user-account');\r\n        if(account) {\r\n            let input = document.querySelector(\"input[name='account']\");\r\n            input.value = account;\r\n            document.querySelector(\"input[name='password']\").focus();\r\n        }        \r\n    }, [])\r\n    const submitEv = async (e) => {\r\n        e.preventDefault(); \r\n        let data = new FormData(e.target);\r\n        setLoading(true);\r\n        try {\r\n            let res = await fetch('http://localhost:4040/login',{\r\n                method:'POST',\r\n                body:data,\r\n            })         \r\n            let result = await  res.json();    \r\n            if(res.ok) {   \r\n                localStorage.setItem('user-account',data.get('account'));\r\n                document.documentElement.style.background  = '#f7f7f7';                      \r\n                openEvent(result);             \r\n            }else{          \r\n                setLoading(false); \r\n                alert(result);\r\n            }\r\n        }catch(err) {\r\n            console.log(err);\r\n        }                \r\n    }    \r\n    const [Loading, setLoading] = useState(false)\r\n    return (\r\n        <div className='row m-0'>\r\n            <div className=\"main-root shadow-sm\">\r\n                <div className=\"row\">\r\n                    <div className=\"animation col-12 d-flex align-items-center justify-content-center \">\r\n                        {\r\n                           Loading ? <Load color='#97cad9'/> :<i className='iconfont icon-suo'></i>\r\n                        }                         \r\n                     \r\n                    </div>\r\n                    <form className=\"form-root col-12\" onSubmit={submitEv}>\r\n                         <h1 className='title my-5'>\r\n                               Login         \r\n                         </h1>\r\n                         <label htmlFor=\"account\" className='col-12 h3 my-4'>\r\n                             Account\r\n                         </label>\r\n                         <input type=\"text\" name=\"account\" id=\"account\" autoFocus required \r\n                             className='w-100'/>\r\n                         <label htmlFor=\"password\" className='col-12 h3 my-4'>\r\n                            Password\r\n                        </label>\r\n                        <input type=\"password\" name=\"password\"\r\n                               id=\"password\" required\r\n                               className='w-100'/>\r\n                        <button type=\"submit\" className='my-5 h2 shadow-sm'> \r\n                            LOGIN\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n            </div> \r\n            <style jsx> {`\r\n                .main-root {\r\n                       width:480px;\r\n                       position:fixed;\r\n                       top:50%;\r\n                       left:50%;\r\n                       border-radius:20px;\r\n                       overflow:hidden;\r\n                       transform:translate(-50%,-50%); \r\n                       background:white;\r\n                }   \r\n                .animation{\r\n                    height:200px;\r\n                    background:#fafeff;\r\n                }  \r\n                .form-root {\r\n                    padding:10%;\r\n                    padding-top:0;\r\n                }\r\n                i {\r\n                    font-size:60px;\r\n                    color:#97cad9;\r\n                }\r\n                input {\r\n                    font-size:3rem;\r\n                    border-radius:20px;\r\n                    border:solid #e5e5e5 2px;\r\n                    padding:1rem;\r\n                } \r\n                label {\r\n                    margin:0;\r\n                    padding:0;\r\n                    color:#d5d6d9;\r\n                }                  \r\n                button {\r\n                    width:100%;\r\n                    padding:1rem;\r\n                    font-size:3rem;\r\n                    background:#f3fcfe;\r\n                    border:none;\r\n                    color:#97cad9;\r\n                    font-weight:700;\r\n                    border-radius:10px;\r\n                    transition:.2s;\r\n                }\r\n                button:hover {\r\n                    transform:scale(1.1);\r\n                }\r\n                h1 {\r\n                    color:#97cad9;\r\n                }\r\n                        `}\r\n            </style>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Index\r\n"]},"metadata":{},"sourceType":"module"}