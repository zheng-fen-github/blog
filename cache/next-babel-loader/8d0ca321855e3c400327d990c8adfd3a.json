{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\component\\\\Pagination.js\";\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport Item from \"./item\";\nvar Pagination = React.memo(function (_ref) {\n  var codeList = _ref.codeList,\n      setCode = _ref.setCode,\n      type = _ref.type;\n\n  var _useState = useState(2),\n      count = _useState[0],\n      setCount = _useState[1];\n\n  var _useState2 = useState([]),\n      List = _useState2[0],\n      setList = _useState2[1];\n\n  useEffect(function () {\n    //     设置滚动事件\n    window.addEventListener(\"scroll\", function () {\n      scrollE();\n    });\n    return function () {\n      return window.removeEventListener(\"scroll\", scrollE);\n    };\n  }, [List]);\n  useEffect(function () {\n    setList(codeList.slice(0, 8)); //     设置初始数\n  }, [codeList]);\n\n  var addList = function addList() {\n    setList(codeList.slice(0, count * 8));\n    setCount(function (pre) {\n      return pre += 1;\n    });\n  };\n\n  var eventId = useRef();\n\n  var scrollE = function scrollE() {\n    //滚动事件定义\n    if (eventId.current) return;\n    eventId.current = setTimeout(function () {\n      try {\n        var scrollCount = Math.round(window.pageYOffset + window.innerHeight);\n\n        if (scrollCount >= document.documentElement.scrollHeight - 2) {\n          document.getElementById(\"loadmore\").click();\n        }\n      } catch (err) {\n        console.log(err);\n      }\n\n      eventId.current = null;\n    }, 500);\n  };\n\n  var typevalue = useCallback(type === \"JS\" ? \"js\" : type === \"React\" ? \"react\" : type === \"CSS\" ? \"css\" : type === \"nodejs\" ? \"node\" : null, [type]);\n  return __jsx(React.Fragment, null, List.map(function (e) {\n    return __jsx(Item, {\n      setCode: setCode,\n      type: typevalue,\n      key: e._id,\n      message: e,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    });\n  }), __jsx(\"button\", {\n    onClick: addList,\n    id: \"loadmore\",\n    className: \"d-none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"click\"));\n});\nexport default Pagination;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/component/Pagination.js"],"names":["React","useState","useEffect","useRef","useCallback","Item","Pagination","memo","codeList","setCode","type","count","setCount","List","setList","window","addEventListener","scrollE","removeEventListener","slice","addList","pre","eventId","current","setTimeout","scrollCount","Math","round","pageYOffset","innerHeight","document","documentElement","scrollHeight","getElementById","click","err","console","log","typevalue","map","e","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport Item from \"./item\";\r\nconst Pagination = React.memo(({ codeList, setCode, type }) => {\r\n  const [count, setCount] = useState(2);\r\n  const [List, setList] = useState([]);\r\n  useEffect(() => {\r\n    //     设置滚动事件\r\n    window.addEventListener(\"scroll\", () => {\r\n      scrollE();\r\n    });\r\n    return () => window.removeEventListener(\"scroll\", scrollE);\r\n  }, [List]);\r\n  useEffect(() => {\r\n    setList(codeList.slice(0, 8)); //     设置初始数\r\n  }, [codeList]);\r\n  const addList = () => {\r\n    setList(codeList.slice(0, count * 8));\r\n    setCount((pre) => (pre += 1));\r\n  };\r\n  let eventId = useRef();\r\n\r\n  const scrollE = () => {\r\n    //滚动事件定义\r\n    if (eventId.current) return;\r\n    eventId.current = setTimeout(() => {\r\n      try {\r\n        let scrollCount = Math.round(window.pageYOffset + window.innerHeight);\r\n        if (scrollCount >= document.documentElement.scrollHeight - 2) {\r\n          document.getElementById(\"loadmore\").click();\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n      eventId.current = null;\r\n    }, 500);\r\n  };\r\n  let typevalue = useCallback(\r\n    type === \"JS\"\r\n      ? \"js\"\r\n      : type === \"React\"\r\n      ? \"react\"\r\n      : type === \"CSS\"\r\n      ? \"css\"\r\n      : type === \"nodejs\"\r\n      ? \"node\"\r\n      : null,\r\n    [type]\r\n  );\r\n  return (\r\n    <>\r\n      {List.map((e) => (\r\n        <Item setCode={setCode} type={typevalue} key={e._id} message={e} />\r\n      ))}\r\n      <button onClick={addList} id=\"loadmore\" className=\"d-none\">\r\n        click\r\n      </button>\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Pagination;\r\n"]},"metadata":{},"sourceType":"module"}