{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\articleList\\\\min-nav.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useRef } from \"react\";\n\nvar MinNav = function MinNav(_ref) {\n  var setState = _ref.setState,\n      setLoad = _ref.setLoad,\n      setType = _ref.setType,\n      list = _ref.list,\n      oldState = _ref.oldState,\n      setPage = _ref.setPage;\n  var dom = useRef();\n\n  var updateShow = function updateShow(e) {\n    var activeDom, oldDom, type, data;\n    return _regeneratorRuntime.async(function updateShow$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            activeDom = e.target.closest(\"li\");\n\n            if (activeDom) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            oldDom = dom.current;\n            if (oldDom) oldDom.classList.remove(\"seled\");\n            type = activeDom.children[0].textContent;\n\n            if (!(type === \"All\")) {\n              _context.next = 12;\n              break;\n            }\n\n            setState(oldState.data);\n            setPage(oldState.count);\n            setType(null);\n            return _context.abrupt(\"return\");\n\n          case 12:\n            activeDom.classList.add(\"seled\"); //选中的元素添加样式\n\n            dom.current = activeDom;\n            setState([]); //搜索指定文章\n\n            setLoad(true);\n            _context.next = 18;\n            return _regeneratorRuntime.awrap(gotData(type));\n\n          case 18:\n            data = _context.sent;\n\n            if (Array.isArray(data.data)) {\n              setState(data.data);\n              setPage(data.count);\n              setType(type);\n            }\n\n            setLoad(false);\n            _context.next = 27;\n            break;\n\n          case 23:\n            _context.prev = 23;\n            _context.t0 = _context[\"catch\"](0);\n            if (_context.t0) console.log(_context.t0);\n            console.log(\"列表元素样式切换失败\");\n\n          case 27:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 23]], Promise);\n  };\n\n  var searchEvent = function searchEvent(e) {\n    var actionDom, searchDom, _dom, value, data, dom;\n\n    return _regeneratorRuntime.async(function searchEvent$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            e.stopPropagation();\n            actionDom = e.target.closest(\"li\");\n            searchDom = document.querySelector(\"i.active\");\n\n            if (!searchDom) {\n              _context2.next = 13;\n              break;\n            }\n\n            _dom = document.querySelector('input[name=\"search\"]');\n            value = _dom.value[0].toUpperCase() + _dom.value.slice(1);\n            setLoad(true);\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(gotData(value));\n\n          case 9:\n            data = _context2.sent;\n\n            if (Array.isArray(data.data)) {\n              setState(data.data);\n              setPage(data.count);\n              setType(value);\n              _dom.value = \"\";\n              searchDom.classList.remove(\"active\");\n              actionDom.click();\n            }\n\n            setLoad(false);\n            return _context2.abrupt(\"return\");\n\n          case 13:\n            dom = document.querySelector(\".search-input.focus\");\n\n            if (dom) {\n              dom.classList.remove(\"focus\");\n              actionDom.classList.remove(\"seled\");\n            } else {\n              dom = document.querySelector(\".search-input\");\n              dom.classList.add(\"focus\");\n            }\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var gotData = function gotData(type) {\n    var RURL, res, result;\n    return _regeneratorRuntime.async(function gotData$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            RURL = process.env.DATA_URL + \"addArticle/gotArticle/type/\" + type + \"?page=1\";\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(fetch(RURL));\n\n          case 4:\n            res = _context3.sent;\n            _context3.next = 7;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 7:\n            result = _context3.sent;\n            return _context3.abrupt(\"return\", result);\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n            return _context3.abrupt(\"return\", {\n              err: _context3.t0\n            });\n\n          case 15:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  var InputSearchEvent = function InputSearchEvent(e) {\n    var value = e.target.value;\n    var dom = document.querySelector(\".iconfont.icon-search\");\n\n    if (value) {\n      dom.classList.add(\"active\");\n    } else {\n      dom.classList.remove(\"active\");\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-3894585032\" + \" \" + \"row m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3894585032\" + \" \" + \"col-12 .col-md-11 min-nav  p-5 pffset-0 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(\"ul\", {\n    onClick: updateShow,\n    className: \"jsx-3894585032\" + \" \" + \"d-flex m-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, list.map(function (type, index) {\n    return __jsx(\"li\", {\n      key: index,\n      className: \"jsx-3894585032\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, __jsx(\"h3\", {\n      className: \"jsx-3894585032\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, type));\n  }), __jsx(\"li\", {\n    className: \"jsx-3894585032\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-3894585032\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"All\")), __jsx(\"li\", {\n    onClick: searchEvent,\n    className: \"jsx-3894585032\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, __jsx(\"h3\", {\n    className: \"jsx-3894585032\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"jsx-3894585032\" + \" \" + \"iconfont icon-search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }))))), __jsx(_JSXStyle, {\n    id: \"3894585032\",\n    __self: _this\n  }, \".min-nav.jsx-3894585032{color:white;background:black;-webkit-transform:translateY(-200%);-ms-transform:translateY(-200%);transform:translateY(-200%);position:relative;}.search-input.jsx-3894585032{background:black;position:absolute;top:0;right:-100%;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);-webkit-transition:0.5s;transition:0.5s;padding:2rem 4rem;z-index:20;}.search-input.focus.jsx-3894585032{right:15%;}.search-input.jsx-3894585032 input.jsx-3894585032{width:100%;margin:0 auto;font-size:2.5rem;text-align:center;}ul.jsx-3894585032{list-style:none;}li.jsx-3894585032{-webkit-flex:1;-ms-flex:1;flex:1;cursor:pointer;-webkit-transition:0.4s;transition:0.4s;text-align:center;}li.jsx-3894585032:hover,li.seled.jsx-3894585032{opacity:0.5;-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);transform:translateY(-25%);}h3.jsx-3894585032{font-size:2.5rem;text-align:center;}i.jsx-3894585032{font-size:2.5rem;}i.active.jsx-3894585032{color:#133d93;}@media (max-width:980px){.min-nav.jsx-3894585032{-webkit-transform:translateY(00%);-ms-transform:translateY(00%);transform:translateY(00%);}}@media (max-width:1100px){.search-input.jsx-3894585032 input.jsx-3894585032{font-size:1.2rem;}}@media (max-width:800px){h3.jsx-3894585032{font-size:2rem;}}@media (max-width:400px){h3.jsx-3894585032{font-size:1rem;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcYXJ0aWNsZUxpc3RcXG1pbi1uYXYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0dTLEFBR3lCLEFBTUssQUFVUCxBQUlDLEFBTUssQUFHVCxBQU9LLEFBSUssQUFJQSxBQUdILEFBSWMsQUFLVCxBQUtGLEFBS0EsVUFqRG5CLENBSWdCLENBcEJHLEFBb0NVLEVBVzdCLENBY0UsQUFLQSxDQXhDRixDQXBCb0IsQUFrQ0EsQUFJcEIsQUFZRSxRQW5DaUIsSUFwQlcsSUE0QmIsRUF0QlQsQUFrQ1IsTUFqQ2MsQ0FjTSxNQVFGLEtBckJZLE9BYzlCLDRCQVFvQixFQW9CbEIsZUFkRixDQUxBLG1CQTlCb0Isa0JBQ3BCLE1BT2tCLHdDQUNFLGtCQUNQLFdBQ2IiLCJmaWxlIjoiQzpcXG5ld2xpZmVcXG5ld1NpdGVcXG15LWFwcFxcY29tcG9uZW50XFxhcnRpY2xlTGlzdFxcbWluLW5hdi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmNvbnN0IE1pbk5hdiA9ICh7IHNldFN0YXRlLCBzZXRMb2FkLCBzZXRUeXBlLCBsaXN0LCBvbGRTdGF0ZSwgc2V0UGFnZSB9KSA9PiB7XHJcbiAgbGV0IGRvbSA9IHVzZVJlZigpO1xyXG4gIGNvbnN0IHVwZGF0ZVNob3cgPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGFjdGl2ZURvbSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCJsaVwiKTtcclxuICAgICAgaWYgKCFhY3RpdmVEb20pIHJldHVybjtcclxuICAgICAgbGV0IG9sZERvbSA9IGRvbS5jdXJyZW50O1xyXG4gICAgICBpZiAob2xkRG9tKSBvbGREb20uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVkXCIpO1xyXG4gICAgICBsZXQgdHlwZSA9IGFjdGl2ZURvbS5jaGlsZHJlblswXS50ZXh0Q29udGVudDtcclxuICAgICAgaWYgKHR5cGUgPT09IFwiQWxsXCIpIHtcclxuICAgICAgICBzZXRTdGF0ZShvbGRTdGF0ZS5kYXRhKTtcclxuICAgICAgICBzZXRQYWdlKG9sZFN0YXRlLmNvdW50KTtcclxuICAgICAgICBzZXRUeXBlKG51bGwpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBhY3RpdmVEb20uY2xhc3NMaXN0LmFkZChcInNlbGVkXCIpOyAvL+mAieS4reeahOWFg+e0oOa3u+WKoOagt+W8j1xyXG4gICAgICBkb20uY3VycmVudCA9IGFjdGl2ZURvbTtcclxuXHJcbiAgICAgIHNldFN0YXRlKFtdKTsgLy/mkJzntKLmjIflrprmlofnq6BcclxuICAgICAgc2V0TG9hZCh0cnVlKTtcclxuICAgICAgbGV0IGRhdGEgPSBhd2FpdCBnb3REYXRhKHR5cGUpO1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgc2V0U3RhdGUoZGF0YS5kYXRhKTtcclxuICAgICAgICBzZXRQYWdlKGRhdGEuY291bnQpO1xyXG4gICAgICAgIHNldFR5cGUodHlwZSk7XHJcbiAgICAgIH1cclxuICAgICAgc2V0TG9hZChmYWxzZSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgY29uc29sZS5sb2coXCLliJfooajlhYPntKDmoLflvI/liIfmjaLlpLHotKVcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBzZWFyY2hFdmVudCA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgbGV0IGFjdGlvbkRvbSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCJsaVwiKTtcclxuICAgIGxldCBzZWFyY2hEb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaS5hY3RpdmVcIik7XHJcbiAgICBpZiAoc2VhcmNoRG9tKSB7XHJcbiAgICAgIGxldCBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwic2VhcmNoXCJdJyk7XHJcbiAgICAgIGxldCB2YWx1ZSA9IGRvbS52YWx1ZVswXS50b1VwcGVyQ2FzZSgpICsgZG9tLnZhbHVlLnNsaWNlKDEpO1xyXG4gICAgICBzZXRMb2FkKHRydWUpO1xyXG4gICAgICBsZXQgZGF0YSA9IGF3YWl0IGdvdERhdGEodmFsdWUpO1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmRhdGEpKSB7XHJcbiAgICAgICAgc2V0U3RhdGUoZGF0YS5kYXRhKTtcclxuICAgICAgICBzZXRQYWdlKGRhdGEuY291bnQpO1xyXG4gICAgICAgIHNldFR5cGUodmFsdWUpO1xyXG4gICAgICAgIGRvbS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgc2VhcmNoRG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgYWN0aW9uRG9tLmNsaWNrKCk7XHJcbiAgICAgIH1cclxuICAgICAgc2V0TG9hZChmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtaW5wdXQuZm9jdXNcIik7XHJcbiAgICBpZiAoZG9tKSB7XHJcbiAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9jdXNcIik7XHJcbiAgICAgIGFjdGlvbkRvbS5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1pbnB1dFwiKTtcclxuICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoXCJmb2N1c1wiKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IGdvdERhdGEgPSBhc3luYyAodHlwZSkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgUlVSTCA9XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuREFUQV9VUkwgKyBcImFkZEFydGljbGUvZ290QXJ0aWNsZS90eXBlL1wiICsgdHlwZSArIFwiP3BhZ2U9MVwiO1xyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgZmV0Y2goUlVSTCk7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZXJyLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IElucHV0U2VhcmNoRXZlbnQgPSAoZSkgPT4ge1xyXG4gICAgbGV0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcbiAgICBsZXQgZG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pY29uZm9udC5pY29uLXNlYXJjaFwiKTtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICBkb20uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IG0tMFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiAuY29sLW1kLTExIG1pbi1uYXYgIHAtNSBwZmZzZXQtMCBcIj5cclxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZC1mbGV4IG0tMFwiIG9uQ2xpY2s9e3VwZGF0ZVNob3d9PlxyXG4gICAgICAgICAge2xpc3QubWFwKCh0eXBlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgICA8bGkga2V5PXtpbmRleH0+XHJcbiAgICAgICAgICAgICAgPGgzPnt0eXBlfTwvaDM+XHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICApKX1cclxuXHJcbiAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgIDxoMz5BbGw8L2gzPlxyXG4gICAgICAgICAgPC9saT5cclxuXHJcbiAgICAgICAgICA8bGkgb25DbGljaz17c2VhcmNoRXZlbnR9PlxyXG4gICAgICAgICAgICA8aDM+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaWNvbmZvbnQgaWNvbi1zZWFyY2hcIj48L2k+XHJcbiAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICA8L2xpPlxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgLm1pbi1uYXYge1xyXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGJsYWNrO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwMCUpO1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuc2VhcmNoLWlucHV0IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogYmxhY2s7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICByaWdodDogLTEwMCU7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW0gNHJlbTtcclxuICAgICAgICAgICAgei1pbmRleDogMjA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuc2VhcmNoLWlucHV0LmZvY3VzIHtcclxuICAgICAgICAgICAgcmlnaHQ6IDE1JTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAuc2VhcmNoLWlucHV0IGlucHV0IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDIuNXJlbTtcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdWwge1xyXG4gICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGkge1xyXG4gICAgICAgICAgICBmbGV4OiAxO1xyXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuNHM7XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxpOmhvdmVyLFxyXG4gICAgICAgICAgbGkuc2VsZWQge1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjUlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGgzIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiAyLjVyZW07XHJcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGkge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDIuNXJlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGkuYWN0aXZlIHtcclxuICAgICAgICAgICAgY29sb3I6ICMxMzNkOTM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogOTgwcHgpIHtcclxuICAgICAgICAgICAgLm1pbi1uYXYge1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwMCUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMTEwMHB4KSB7XHJcbiAgICAgICAgICAgIC5zZWFyY2gtaW5wdXQgaW5wdXQge1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogODAwcHgpIHtcclxuICAgICAgICAgICAgaDMge1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDQwMHB4KSB7XHJcbiAgICAgICAgICAgIGgzIHtcclxuICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1pbk5hdjtcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\component\\\\\\\\articleList\\\\\\\\min-nav.js */\"));\n};\n\nexport default MinNav;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/articleList/min-nav.js"],"names":["React","useRef","MinNav","setState","setLoad","setType","list","oldState","setPage","dom","updateShow","e","activeDom","target","closest","oldDom","current","classList","remove","type","children","textContent","data","count","add","gotData","Array","isArray","console","log","searchEvent","stopPropagation","actionDom","searchDom","document","querySelector","value","toUpperCase","slice","click","RURL","process","env","DATA_URL","fetch","res","json","result","err","InputSearchEvent","map","index"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\r\n\r\nconst MinNav = ({ setState, setLoad, setType, list, oldState, setPage }) => {\r\n  let dom = useRef();\r\n  const updateShow = async (e) => {\r\n    try {\r\n      let activeDom = e.target.closest(\"li\");\r\n      if (!activeDom) return;\r\n      let oldDom = dom.current;\r\n      if (oldDom) oldDom.classList.remove(\"seled\");\r\n      let type = activeDom.children[0].textContent;\r\n      if (type === \"All\") {\r\n        setState(oldState.data);\r\n        setPage(oldState.count);\r\n        setType(null);\r\n        return;\r\n      }\r\n      activeDom.classList.add(\"seled\"); //选中的元素添加样式\r\n      dom.current = activeDom;\r\n\r\n      setState([]); //搜索指定文章\r\n      setLoad(true);\r\n      let data = await gotData(type);\r\n      if (Array.isArray(data.data)) {\r\n        setState(data.data);\r\n        setPage(data.count);\r\n        setType(type);\r\n      }\r\n      setLoad(false);\r\n    } catch (err) {\r\n      if (err) console.log(err);\r\n      console.log(\"列表元素样式切换失败\");\r\n    }\r\n  };\r\n  const searchEvent = async (e) => {\r\n    e.stopPropagation();\r\n    let actionDom = e.target.closest(\"li\");\r\n    let searchDom = document.querySelector(\"i.active\");\r\n    if (searchDom) {\r\n      let dom = document.querySelector('input[name=\"search\"]');\r\n      let value = dom.value[0].toUpperCase() + dom.value.slice(1);\r\n      setLoad(true);\r\n      let data = await gotData(value);\r\n      if (Array.isArray(data.data)) {\r\n        setState(data.data);\r\n        setPage(data.count);\r\n        setType(value);\r\n        dom.value = \"\";\r\n        searchDom.classList.remove(\"active\");\r\n        actionDom.click();\r\n      }\r\n      setLoad(false);\r\n      return;\r\n    }\r\n\r\n    let dom = document.querySelector(\".search-input.focus\");\r\n    if (dom) {\r\n      dom.classList.remove(\"focus\");\r\n      actionDom.classList.remove(\"seled\");\r\n    } else {\r\n      dom = document.querySelector(\".search-input\");\r\n      dom.classList.add(\"focus\");\r\n    }\r\n  };\r\n  const gotData = async (type) => {\r\n    try {\r\n      const RURL =\r\n        process.env.DATA_URL + \"addArticle/gotArticle/type/\" + type + \"?page=1\";\r\n      let res = await fetch(RURL);\r\n      let result = await res.json();\r\n      return result;\r\n    } catch (err) {\r\n      console.log(err);\r\n      return {\r\n        err,\r\n      };\r\n    }\r\n  };\r\n\r\n  const InputSearchEvent = (e) => {\r\n    let value = e.target.value;\r\n    let dom = document.querySelector(\".iconfont.icon-search\");\r\n    if (value) {\r\n      dom.classList.add(\"active\");\r\n    } else {\r\n      dom.classList.remove(\"active\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"row m-0\">\r\n      <div className=\"col-12 .col-md-11 min-nav  p-5 pffset-0 \">\r\n        <ul className=\"d-flex m-0\" onClick={updateShow}>\r\n          {list.map((type, index) => (\r\n            <li key={index}>\r\n              <h3>{type}</h3>\r\n            </li>\r\n          ))}\r\n\r\n          <li>\r\n            <h3>All</h3>\r\n          </li>\r\n\r\n          <li onClick={searchEvent}>\r\n            <h3>\r\n              <i className=\"iconfont icon-search\"></i>\r\n            </h3>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <style jsx>\r\n        {`\r\n          .min-nav {\r\n            color: white;\r\n            background: black;\r\n            transform: translateY(-200%);\r\n            position: relative;\r\n          }\r\n          .search-input {\r\n            background: black;\r\n            position: absolute;\r\n            top: 0;\r\n            right: -100%;\r\n            transform: translateY(-100%);\r\n            transition: 0.5s;\r\n            padding: 2rem 4rem;\r\n            z-index: 20;\r\n          }\r\n          .search-input.focus {\r\n            right: 15%;\r\n          }\r\n\r\n          .search-input input {\r\n            width: 100%;\r\n            margin: 0 auto;\r\n            font-size: 2.5rem;\r\n            text-align: center;\r\n          }\r\n          ul {\r\n            list-style: none;\r\n          }\r\n          li {\r\n            flex: 1;\r\n            cursor: pointer;\r\n            transition: 0.4s;\r\n            text-align: center;\r\n          }\r\n          li:hover,\r\n          li.seled {\r\n            opacity: 0.5;\r\n            transform: translateY(-25%);\r\n          }\r\n          h3 {\r\n            font-size: 2.5rem;\r\n            text-align: center;\r\n          }\r\n          i {\r\n            font-size: 2.5rem;\r\n          }\r\n          i.active {\r\n            color: #133d93;\r\n          }\r\n          @media (max-width: 980px) {\r\n            .min-nav {\r\n              transform: translateY(00%);\r\n            }\r\n          }\r\n          @media (max-width: 1100px) {\r\n            .search-input input {\r\n              font-size: 1.2rem;\r\n            }\r\n          }\r\n          @media (max-width: 800px) {\r\n            h3 {\r\n              font-size: 2rem;\r\n            }\r\n          }\r\n          @media (max-width: 400px) {\r\n            h3 {\r\n              font-size: 1rem;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MinNav;\r\n"]},"metadata":{},"sourceType":"module"}