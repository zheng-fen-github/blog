{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\pages\\\\photo.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport Head from \"next/head\";\nimport Nav from \"../component/public/nav\";\nimport MinNav from \"../component/photo/min-nav\";\nimport Item from \"../component/photo/item\";\nimport fetch from \"node-fetch\";\nimport Router from \"next/router\";\n\nconst Photo = ({\n  data\n}) => {\n  const {\n    0: showData,\n    1: setshowData\n  } = useState(data);\n  const AllData = useRef();\n  AllData.current = data;\n\n  const filterEvent = value => {\n    console.log(value);\n    if (value === 0) return setshowData(AllData.current);\n\n    if (value === 1) {\n      let newData = AllData.current.filter(e => {\n        console.log(e);\n        let PhotoTime = +new Date(Number(e.createTime));\n        let liveTime = Date.now();\n\n        if (liveTime - PhotoTime >= 1000 * 60 * 60 * 24 * value) {\n          return e;\n        }\n      });\n    }\n\n    let newData = AllData.current.filter(e => {\n      let PhotoTime = +new Date(Number(e.createTime));\n      let liveTime = Date.now();\n\n      if (liveTime - PhotoTime >= 1000 * 60 * 60 * 24 * value) {\n        return e;\n      }\n    });\n    setshowData(newData);\n  };\n\n  const {\n    0: routerStatus,\n    1: setRouterStatus\n  } = useState(false); // 路由变化事件\n\n  const handleRouteChange = url => {\n    setRouterStatus(true);\n  };\n\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\n\n  const fontsizeEvent = () => {\n    let style = document.documentElement.style;\n\n    if (window.innerWidth < 960) {\n      style.fontSize = \"6px\";\n    } else {\n      style.fontSize = \"10px\";\n    }\n  };\n\n  useEffect(() => {\n    fontsizeEvent();\n    window.addEventListener(\"resize\", () => {\n      fontsizeEvent();\n    });\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Photo\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\",\n    crossorigin: \"anonymous\",\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"//at.alicdn.com/t/font_1748919_jonwjrvk6jq.css\",\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), __jsx(\"title\", {\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, \" \\u56FE\\u7247\\u6536\\u85CF \")), __jsx(\"div\", {\n    className: \"jsx-78461996\" + \" \" + \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, __jsx(\"nav\", {\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"photo-bg.jpg\",\n    alt: \"bg\",\n    className: \"jsx-78461996\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }))), showData.map(e => __jsx(Item, _extends({\n    key: e._id\n  }, e, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }))), showData.length === 0 && __jsx(\"h1\", {\n    className: \"jsx-78461996\" + \" \" + \"text-center mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \" \\u6CA1\\u6709\\u76F8\\u5173\\u5185\\u5BB9 \"), __jsx(MinNav, {\n    filter: filterEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), routerStatus && __jsx(\"div\", {\n    className: \"jsx-78461996\" + \" \" + \"loadAnima\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \" \")), __jsx(_JSXStyle, {\n    id: \"2898754504\",\n    __self: this\n  }, \"*,body{margin:0;padding:0;box-sizing:border-box;}html{font-size:10px;}img{width:100%;height:auto;}.container-fluid{padding:0;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXHBhZ2VzXFxwaG90by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwRnlCLEFBSW9CLEFBS00sQUFHSixBQUlELFNBWEEsQ0FZWixDQUpjLElBSGQsSUFKd0IsSUFReEIsa0JBUEEiLCJmaWxlIjoiQzpcXG5ld2xpZmVcXG5ld1NpdGVcXG15LWFwcFxccGFnZXNcXHBob3RvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XHJcbmltcG9ydCBOYXYgZnJvbSBcIi4uL2NvbXBvbmVudC9wdWJsaWMvbmF2XCI7XHJcbmltcG9ydCBNaW5OYXYgZnJvbSBcIi4uL2NvbXBvbmVudC9waG90by9taW4tbmF2XCI7XHJcbmltcG9ydCBJdGVtIGZyb20gXCIuLi9jb21wb25lbnQvcGhvdG8vaXRlbVwiO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcIm5vZGUtZmV0Y2hcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuXHJcbmNvbnN0IFBob3RvID0gKHsgZGF0YSB9KSA9PiB7XHJcbiAgY29uc3QgW3Nob3dEYXRhLCBzZXRzaG93RGF0YV0gPSB1c2VTdGF0ZShkYXRhKTtcclxuICBjb25zdCBBbGxEYXRhID0gdXNlUmVmKCk7XHJcbiAgQWxsRGF0YS5jdXJyZW50ID0gZGF0YTtcclxuICBjb25zdCBmaWx0ZXJFdmVudCA9ICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgaWYgKHZhbHVlID09PSAwKSByZXR1cm4gc2V0c2hvd0RhdGEoQWxsRGF0YS5jdXJyZW50KTtcclxuICAgIGlmICh2YWx1ZSA9PT0gMSkge1xyXG4gICAgICBsZXQgbmV3RGF0YSA9IEFsbERhdGEuY3VycmVudC5maWx0ZXIoKGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICBsZXQgUGhvdG9UaW1lID0gK25ldyBEYXRlKE51bWJlcihlLmNyZWF0ZVRpbWUpKTtcclxuICAgICAgICBsZXQgbGl2ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGlmIChsaXZlVGltZSAtIFBob3RvVGltZSA+PSAxMDAwICogNjAgKiA2MCAqIDI0ICogdmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBsZXQgbmV3RGF0YSA9IEFsbERhdGEuY3VycmVudC5maWx0ZXIoKGUpID0+IHtcclxuICAgICAgbGV0IFBob3RvVGltZSA9ICtuZXcgRGF0ZShOdW1iZXIoZS5jcmVhdGVUaW1lKSk7XHJcbiAgICAgIGxldCBsaXZlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGlmIChsaXZlVGltZSAtIFBob3RvVGltZSA+PSAxMDAwICogNjAgKiA2MCAqIDI0ICogdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBzZXRzaG93RGF0YShuZXdEYXRhKTtcclxuICB9O1xyXG4gIGNvbnN0IFtyb3V0ZXJTdGF0dXMsIHNldFJvdXRlclN0YXR1c10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIOi3r+eUseWPmOWMluS6i+S7tlxyXG4gIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlID0gKHVybCkgPT4ge1xyXG4gICAgc2V0Um91dGVyU3RhdHVzKHRydWUpO1xyXG4gIH07XHJcbiAgUm91dGVyLmV2ZW50cy5vbihcInJvdXRlQ2hhbmdlU3RhcnRcIiwgaGFuZGxlUm91dGVDaGFuZ2UpO1xyXG5cclxuICBjb25zdCBmb250c2l6ZUV2ZW50ID0gKCkgPT4ge1xyXG4gICAgbGV0IHN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xyXG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgOTYwKSB7XHJcbiAgICAgIHN0eWxlLmZvbnRTaXplID0gXCI2cHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0eWxlLmZvbnRTaXplID0gXCIxMHB4XCI7XHJcbiAgICB9XHJcbiAgfTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZm9udHNpemVFdmVudCgpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG4gICAgICBmb250c2l6ZUV2ZW50KCk7XHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8SGVhZD5cclxuICAgICAgICA8dGl0bGU+UGhvdG88L3RpdGxlPlxyXG4gICAgICAgIDxsaW5rXHJcbiAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCJcclxuICAgICAgICAgIGhyZWY9XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Jvb3RzdHJhcEA0LjQuMS9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzc1wiXHJcbiAgICAgICAgICBpbnRlZ3JpdHk9XCJzaGEzODQtVmtvbzh4NENHc08zK0hoeHY4VC9RNVBhWHRrS3R1NnVnNVRPZU5WNmdCaUZlV1BHRk45TXVoT2YyM1E5SWZqaFwiXHJcbiAgICAgICAgICBjcm9zc29yaWdpbj1cImFub255bW91c1wiXHJcbiAgICAgICAgPjwvbGluaz5cclxuICAgICAgICA8bGlua1xyXG4gICAgICAgICAgcmVsPVwic3R5bGVzaGVldFwiXHJcbiAgICAgICAgICBocmVmPVwiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xNzQ4OTE5X2pvbndqcnZrNmpxLmNzc1wiXHJcbiAgICAgICAgLz5cclxuICAgICAgICA8dGl0bGU+IOWbvueJh+aUtuiXjyA8L3RpdGxlPlxyXG4gICAgICA8L0hlYWQ+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkXCI+XHJcbiAgICAgICAgPG5hdj5cclxuICAgICAgICAgIDxOYXY+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwicGhvdG8tYmcuanBnXCIgYWx0PVwiYmdcIiAvPlxyXG4gICAgICAgICAgPC9OYXY+XHJcbiAgICAgICAgPC9uYXY+XHJcbiAgICAgICAge3Nob3dEYXRhLm1hcCgoZSkgPT4gKFxyXG4gICAgICAgICAgPEl0ZW0ga2V5PXtlLl9pZH0gey4uLmV9IC8+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgICAge3Nob3dEYXRhLmxlbmd0aCA9PT0gMCAmJiAoXHJcbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtNVwiPiDmsqHmnInnm7jlhbPlhoXlrrkgPC9oMT5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxNaW5OYXYgZmlsdGVyPXtmaWx0ZXJFdmVudH0gLz5cclxuXHJcbiAgICAgICAge3JvdXRlclN0YXR1cyAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRBbmltYVwiPiB7LyogIOi3r+eUseWPmOWMluaXtiDmj5DnpLrliqjnlLsgKi99PC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxyXG4gICAgICAgICosXHJcbiAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaHRtbCB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGltZyB7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICB9XHJcbiAgICAgICAgLmNvbnRhaW5lci1mbHVpZCB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgICA8c3R5bGUganN4PlxyXG4gICAgICAgIHtgXHJcbiAgICAgICAgICBpbWcge1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmxvYWRBbmltYSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBibGFjaztcclxuICAgICAgICAgICAgYW5pbWF0aW9uOiBMb2FkaW5nIDJzIDEwO1xyXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgQGtleWZyYW1lcyBMb2FkaW5nIHtcclxuICAgICAgICAgICAgMCUge1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgNTAlIHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcygpIHtcclxuICBjb25zdCBSVVJMID0gcHJvY2Vzcy5lbnYuREFUQV9VUkwgKyBcImFkZHBob3RvL3Bob3Rvc1wiO1xyXG4gIGxldCByZXEgPSBhd2FpdCBmZXRjaChSVVJMKTtcclxuICBsZXQgZGF0YSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHByb3BzOiB7IGRhdGEgfSxcclxuICB9O1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFBob3RvO1xyXG4iXX0= */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\pages\\\\\\\\photo.js */\"), __jsx(_JSXStyle, {\n    id: \"2332455341\",\n    __self: this\n  }, \"img.jsx-78461996{width:100%;height:auto;}.loadAnima.jsx-78461996{position:fixed;left:0;top:0;right:0;bottom:0;background:black;-webkit-animation:Loading-jsx-78461996 2s 10;animation:Loading-jsx-78461996 2s 10;z-index:9999;}@-webkit-keyframes Loading-jsx-78461996{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}@keyframes Loading-jsx-78461996{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXHBhZ2VzXFxwaG90by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2R1MsQUFHd0IsQUFJSSxBQVdILEFBR0EsQUFHQSxVQUxaLEFBR0EsQUFHQSxDQXJCWSxJQUlMLE9BQ0QsQ0FKUixLQUtVLFFBQ0MsU0FDUSxpQkFDTyxrRkFDWCxhQUNmIiwiZmlsZSI6IkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXHBhZ2VzXFxwaG90by5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xyXG5pbXBvcnQgTmF2IGZyb20gXCIuLi9jb21wb25lbnQvcHVibGljL25hdlwiO1xyXG5pbXBvcnQgTWluTmF2IGZyb20gXCIuLi9jb21wb25lbnQvcGhvdG8vbWluLW5hdlwiO1xyXG5pbXBvcnQgSXRlbSBmcm9tIFwiLi4vY29tcG9uZW50L3Bob3RvL2l0ZW1cIjtcclxuaW1wb3J0IGZldGNoIGZyb20gXCJub2RlLWZldGNoXCI7XHJcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XHJcblxyXG5jb25zdCBQaG90byA9ICh7IGRhdGEgfSkgPT4ge1xyXG4gIGNvbnN0IFtzaG93RGF0YSwgc2V0c2hvd0RhdGFdID0gdXNlU3RhdGUoZGF0YSk7XHJcbiAgY29uc3QgQWxsRGF0YSA9IHVzZVJlZigpO1xyXG4gIEFsbERhdGEuY3VycmVudCA9IGRhdGE7XHJcbiAgY29uc3QgZmlsdGVyRXZlbnQgPSAodmFsdWUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcclxuICAgIGlmICh2YWx1ZSA9PT0gMCkgcmV0dXJuIHNldHNob3dEYXRhKEFsbERhdGEuY3VycmVudCk7XHJcbiAgICBpZiAodmFsdWUgPT09IDEpIHtcclxuICAgICAgbGV0IG5ld0RhdGEgPSBBbGxEYXRhLmN1cnJlbnQuZmlsdGVyKChlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgbGV0IFBob3RvVGltZSA9ICtuZXcgRGF0ZShOdW1iZXIoZS5jcmVhdGVUaW1lKSk7XHJcbiAgICAgICAgbGV0IGxpdmVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBpZiAobGl2ZVRpbWUgLSBQaG90b1RpbWUgPj0gMTAwMCAqIDYwICogNjAgKiAyNCAqIHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbGV0IG5ld0RhdGEgPSBBbGxEYXRhLmN1cnJlbnQuZmlsdGVyKChlKSA9PiB7XHJcbiAgICAgIGxldCBQaG90b1RpbWUgPSArbmV3IERhdGUoTnVtYmVyKGUuY3JlYXRlVGltZSkpO1xyXG4gICAgICBsZXQgbGl2ZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBpZiAobGl2ZVRpbWUgLSBQaG90b1RpbWUgPj0gMTAwMCAqIDYwICogNjAgKiAyNCAqIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc2V0c2hvd0RhdGEobmV3RGF0YSk7XHJcbiAgfTtcclxuICBjb25zdCBbcm91dGVyU3RhdHVzLCBzZXRSb3V0ZXJTdGF0dXNdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyDot6/nlLHlj5jljJbkuovku7ZcclxuICBjb25zdCBoYW5kbGVSb3V0ZUNoYW5nZSA9ICh1cmwpID0+IHtcclxuICAgIHNldFJvdXRlclN0YXR1cyh0cnVlKTtcclxuICB9O1xyXG4gIFJvdXRlci5ldmVudHMub24oXCJyb3V0ZUNoYW5nZVN0YXJ0XCIsIGhhbmRsZVJvdXRlQ2hhbmdlKTtcclxuXHJcbiAgY29uc3QgZm9udHNpemVFdmVudCA9ICgpID0+IHtcclxuICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcclxuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDk2MCkge1xyXG4gICAgICBzdHlsZS5mb250U2l6ZSA9IFwiNnB4XCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdHlsZS5mb250U2l6ZSA9IFwiMTBweFwiO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZvbnRzaXplRXZlbnQoKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgICAgZm9udHNpemVFdmVudCgpO1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPEhlYWQ+XHJcbiAgICAgICAgPHRpdGxlPlBob3RvPC90aXRsZT5cclxuICAgICAgICA8bGlua1xyXG4gICAgICAgICAgcmVsPVwic3R5bGVzaGVldFwiXHJcbiAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANC40LjEvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3NcIlxyXG4gICAgICAgICAgaW50ZWdyaXR5PVwic2hhMzg0LVZrb284eDRDR3NPMytIaHh2OFQvUTVQYVh0a0t0dTZ1ZzVUT2VOVjZnQmlGZVdQR0ZOOU11aE9mMjNROUlmamhcIlxyXG4gICAgICAgICAgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIlxyXG4gICAgICAgID48L2xpbms+XHJcbiAgICAgICAgPGxpbmtcclxuICAgICAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxyXG4gICAgICAgICAgaHJlZj1cIi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMTc0ODkxOV9qb253anJ2azZqcS5jc3NcIlxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPHRpdGxlPiDlm77niYfmlLbol48gPC90aXRsZT5cclxuICAgICAgPC9IZWFkPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxyXG4gICAgICAgIDxuYXY+XHJcbiAgICAgICAgICA8TmF2PlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cInBob3RvLWJnLmpwZ1wiIGFsdD1cImJnXCIgLz5cclxuICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgIDwvbmF2PlxyXG4gICAgICAgIHtzaG93RGF0YS5tYXAoKGUpID0+IChcclxuICAgICAgICAgIDxJdGVtIGtleT17ZS5faWR9IHsuLi5lfSAvPlxyXG4gICAgICAgICkpfVxyXG4gICAgICAgIHtzaG93RGF0YS5sZW5ndGggPT09IDAgJiYgKFxyXG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG10LTVcIj4g5rKh5pyJ55u45YWz5YaF5a65IDwvaDE+XHJcbiAgICAgICAgKX1cclxuICAgICAgICA8TWluTmF2IGZpbHRlcj17ZmlsdGVyRXZlbnR9IC8+XHJcblxyXG4gICAgICAgIHtyb3V0ZXJTdGF0dXMgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkQW5pbWFcIj4gey8qICDot6/nlLHlj5jljJbml7Yg5o+Q56S65Yqo55S7ICovfTwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPHN0eWxlIGpzeCBnbG9iYWw+e2BcclxuICAgICAgICAqLFxyXG4gICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGh0bWwge1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5jb250YWluZXItZmx1aWQge1xyXG4gICAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgaW1nIHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5sb2FkQW5pbWEge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogYmxhY2s7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogTG9hZGluZyAycyAxMDtcclxuICAgICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIEBrZXlmcmFtZXMgTG9hZGluZyB7XHJcbiAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDUwJSB7XHJcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoKSB7XHJcbiAgY29uc3QgUlVSTCA9IHByb2Nlc3MuZW52LkRBVEFfVVJMICsgXCJhZGRwaG90by9waG90b3NcIjtcclxuICBsZXQgcmVxID0gYXdhaXQgZmV0Y2goUlVSTCk7XHJcbiAgbGV0IGRhdGEgPSBhd2FpdCByZXEuanNvbigpO1xyXG4gIHJldHVybiB7XHJcbiAgICBwcm9wczogeyBkYXRhIH0sXHJcbiAgfTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBQaG90bztcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\pages\\\\\\\\photo.js */\"));\n};\n\nexport async function getServerSideProps() {\n  const RURL = process.env.DATA_URL + \"addphoto/photos\";\n  let req = await fetch(RURL);\n  let data = await req.json();\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default Photo;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/pages/photo.js"],"names":["React","useEffect","useState","useRef","Head","Nav","MinNav","Item","fetch","Router","Photo","data","showData","setshowData","AllData","current","filterEvent","value","console","log","newData","filter","e","PhotoTime","Date","Number","createTime","liveTime","now","routerStatus","setRouterStatus","handleRouteChange","url","events","on","fontsizeEvent","style","document","documentElement","window","innerWidth","fontSize","addEventListener","map","_id","length","getServerSideProps","RURL","process","env","DATA_URL","req","json","props"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport Head from \"next/head\";\r\nimport Nav from \"../component/public/nav\";\r\nimport MinNav from \"../component/photo/min-nav\";\r\nimport Item from \"../component/photo/item\";\r\nimport fetch from \"node-fetch\";\r\nimport Router from \"next/router\";\r\n\r\nconst Photo = ({ data }) => {\r\n  const [showData, setshowData] = useState(data);\r\n  const AllData = useRef();\r\n  AllData.current = data;\r\n  const filterEvent = (value) => {\r\n    console.log(value);\r\n    if (value === 0) return setshowData(AllData.current);\r\n    if (value === 1) {\r\n      let newData = AllData.current.filter((e) => {\r\n        console.log(e);\r\n        let PhotoTime = +new Date(Number(e.createTime));\r\n        let liveTime = Date.now();\r\n        if (liveTime - PhotoTime >= 1000 * 60 * 60 * 24 * value) {\r\n          return e;\r\n        }\r\n      });\r\n    }\r\n    let newData = AllData.current.filter((e) => {\r\n      let PhotoTime = +new Date(Number(e.createTime));\r\n      let liveTime = Date.now();\r\n      if (liveTime - PhotoTime >= 1000 * 60 * 60 * 24 * value) {\r\n        return e;\r\n      }\r\n    });\r\n    setshowData(newData);\r\n  };\r\n  const [routerStatus, setRouterStatus] = useState(false); // 路由变化事件\r\n  const handleRouteChange = (url) => {\r\n    setRouterStatus(true);\r\n  };\r\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\r\n\r\n  const fontsizeEvent = () => {\r\n    let style = document.documentElement.style;\r\n    if (window.innerWidth < 960) {\r\n      style.fontSize = \"6px\";\r\n    } else {\r\n      style.fontSize = \"10px\";\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fontsizeEvent();\r\n    window.addEventListener(\"resize\", () => {\r\n      fontsizeEvent();\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Photo</title>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\"\r\n          integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\r\n          crossorigin=\"anonymous\"\r\n        ></link>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"//at.alicdn.com/t/font_1748919_jonwjrvk6jq.css\"\r\n        />\r\n        <title> 图片收藏 </title>\r\n      </Head>\r\n      <div className=\"container-fluid\">\r\n        <nav>\r\n          <Nav>\r\n            <img src=\"photo-bg.jpg\" alt=\"bg\" />\r\n          </Nav>\r\n        </nav>\r\n        {showData.map((e) => (\r\n          <Item key={e._id} {...e} />\r\n        ))}\r\n        {showData.length === 0 && (\r\n          <h1 className=\"text-center mt-5\"> 没有相关内容 </h1>\r\n        )}\r\n        <MinNav filter={filterEvent} />\r\n\r\n        {routerStatus && (\r\n          <div className=\"loadAnima\"> {/*  路由变化时 提示动画 */}</div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx global>{`\r\n        *,\r\n        body {\r\n          margin: 0;\r\n          padding: 0;\r\n          box-sizing: border-box;\r\n        }\r\n        html {\r\n          font-size: 10px;\r\n        }\r\n        img {\r\n          width: 100%;\r\n          height: auto;\r\n        }\r\n        .container-fluid {\r\n          padding: 0;\r\n        }\r\n      `}</style>\r\n      <style jsx>\r\n        {`\r\n          img {\r\n            width: 100%;\r\n            height: auto;\r\n          }\r\n          .loadAnima {\r\n            position: fixed;\r\n            left: 0;\r\n            top: 0;\r\n            right: 0;\r\n            bottom: 0;\r\n            background: black;\r\n            animation: Loading 2s 10;\r\n            z-index: 9999;\r\n          }\r\n          @keyframes Loading {\r\n            0% {\r\n              opacity: 0;\r\n            }\r\n            50% {\r\n              opacity: 1;\r\n            }\r\n            100% {\r\n              opacity: 0;\r\n            }\r\n          }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n};\r\nexport async function getServerSideProps() {\r\n  const RURL = process.env.DATA_URL + \"addphoto/photos\";\r\n  let req = await fetch(RURL);\r\n  let data = await req.json();\r\n  return {\r\n    props: { data },\r\n  };\r\n}\r\nexport default Photo;\r\n"]},"metadata":{},"sourceType":"module"}