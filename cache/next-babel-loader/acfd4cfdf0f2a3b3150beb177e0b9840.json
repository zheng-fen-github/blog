{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\n\nconst Page = ({\n  count,\n  setState,\n  type\n}) => {\n  let item = 1;\n  let array = [item];\n\n  while (count > 10) {\n    count -= 10;\n    array.push(++item);\n  }\n\n  let domRef = useRef();\n  useEffect(() => {\n    let dom = document.querySelector('.page');\n    dom.classList.add('current');\n    domRef.current = dom;\n  }, []);\n\n  const gotData = async page => {\n    try {\n      const RURL = process.env.DATA_URL + `${type ? 'addArticle/gotArticle/type/' + type + '?page=' : 'addArticle/gotArticleList/'}` + page;\n      let res = await fetch(RURL);\n      let result = await res.json();\n      return result;\n    } catch (err) {\n      console.log(err);\n      return {\n        err\n      };\n    }\n  };\n\n  const ClickEvent = async e => {\n    let dom = e.target.closest('.page');\n    if (!dom || dom.classList.contains('current')) return;\n    let page = +dom.children[0].textContent;\n    let data = await gotData(page);\n\n    if (Array.isArray(data.data)) {\n      setState(data.data);\n      domRef.current.classList.remove('current');\n      dom.classList.add('current');\n      domRef.current = dom;\n      let navDom = document.querySelector('.min-nav');\n      navDom.scrollIntoView(true);\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-961374113\" + \" \" + 'col-6 mx-auto mt-5'\n  }, __jsx(\"div\", {\n    onClick: ClickEvent,\n    className: \"jsx-961374113\" + \" \" + \"row justify-content-center\"\n  }, array.map((count, index) => __jsx(\"div\", {\n    key: index,\n    className: \"jsx-961374113\" + \" \" + \"col-auto page  mx-2\"\n  }, __jsx(\"h2\", {\n    className: \"jsx-961374113\"\n  }, \" \", count, \" \")))), __jsx(_JSXStyle, {\n    id: \"961374113\"\n  }, [\".page.jsx-961374113{border:solid #4f738d 2px;color:#4f738d;width:60px;height:60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;}\", \".page.jsx-961374113:hover,.page.current.jsx-961374113{background:#4f738d;color:white;}\", \"h2.jsx-961374113{font-weight:700;}\", \"@media (max-width:600px){.page.jsx-961374113{width:40px;height:40px;}}\"]));\n};\n\nexport default Page;","map":null,"metadata":{},"sourceType":"module"}