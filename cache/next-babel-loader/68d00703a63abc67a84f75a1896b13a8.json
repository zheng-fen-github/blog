{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\pages\\\\article-list.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState, useRef } from \"react\";\nimport fetch from \"node-fetch\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Nav from \"../component/public/nav\";\nimport MinNav from \"../component/articleList/min-nav\";\nimport ContentList from \"../component/articleList/contentList\";\nimport Footer from \"../component/articleList/footer\";\n\nconst ArticleList = ({\n  data,\n  list,\n  count\n}) => {\n  useEffect(() => {\n    if (!data) {\n      Router.push(\"/500\");\n    }\n  }, []);\n  const {\n    0: routerStatus,\n    1: setRouterStatus\n  } = useState(false);\n\n  const handleRouteChange = () => {\n    setRouterStatus(true);\n  };\n\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\n  const {\n    0: state,\n    1: setState\n  } = useState(data);\n  const {\n    0: initState,\n    1: setInitState\n  } = useState({\n    data,\n    count\n  });\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: page,\n    1: setPage\n  } = useState(count);\n  const {\n    0: type,\n    1: setType\n  } = useState(null);\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    className: \"jsx-2455406862\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, \"Article\"), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\",\n    integrity: \"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\",\n    crossorigin: \"anonymous\",\n    className: \"jsx-2455406862\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"//at.alicdn.com/t/font_1748919_piihixc593j.css\",\n    className: \"jsx-2455406862\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/logo.jpg\",\n    type: \"image/x-icon\",\n    className: \"jsx-2455406862\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"jsx-2455406862\" + \" \" + \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, __jsx(\"nav\", {\n    className: \"jsx-2455406862\" + \" \" + \"row mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"article-list-bg\",\n    alt: \"bg\",\n    className: \"jsx-2455406862\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }))), __jsx(MinNav, {\n    setState: setState,\n    setType: setType,\n    setPage: setPage,\n    setLoad: setLoading,\n    list: list,\n    oldState: initState,\n    setPage: setPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), __jsx(ContentList, {\n    state: state,\n    type: type,\n    setState: setState,\n    loading: loading,\n    count: page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), __jsx(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), routerStatus && __jsx(\"div\", {\n    className: \"jsx-2455406862\" + \" \" + \"loadAnima\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \" \")), __jsx(_JSXStyle, {\n    id: \"2455406862\",\n    __self: this\n  }, \"*,body{margin:0;padding:0;box-sizing:border-box;}html{font-size:10px;}.container-fluid{padding:0;overflow-x:hidden;}@media (max-width:600px){html{font-size:6px;}}@media (max-width:400px){html{font-size:5px;}}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXHBhZ2VzXFxhcnRpY2xlLWxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNEV5QixBQUlvQixBQUtNLEFBR0wsQUFLTSxBQUtBLFNBakJOLENBUVEsSUFLbEIsQUFLQSxDQWJGLElBSndCLFNBUXhCLGFBUEEiLCJmaWxlIjoiQzpcXG5ld2xpZmVcXG5ld1NpdGVcXG15LWFwcFxccGFnZXNcXGFydGljbGUtbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IGZldGNoIGZyb20gXCJub2RlLWZldGNoXCI7XHJcbmltcG9ydCBIZWFkIGZyb20gXCJuZXh0L2hlYWRcIjtcclxuaW1wb3J0IFJvdXRlciBmcm9tIFwibmV4dC9yb3V0ZXJcIjtcclxuXHJcbmltcG9ydCBOYXYgZnJvbSBcIi4uL2NvbXBvbmVudC9wdWJsaWMvbmF2XCI7XHJcbmltcG9ydCBNaW5OYXYgZnJvbSBcIi4uL2NvbXBvbmVudC9hcnRpY2xlTGlzdC9taW4tbmF2XCI7XHJcbmltcG9ydCBDb250ZW50TGlzdCBmcm9tIFwiLi4vY29tcG9uZW50L2FydGljbGVMaXN0L2NvbnRlbnRMaXN0XCI7XHJcbmltcG9ydCBGb290ZXIgZnJvbSBcIi4uL2NvbXBvbmVudC9hcnRpY2xlTGlzdC9mb290ZXJcIjtcclxuXHJcbmNvbnN0IEFydGljbGVMaXN0ID0gKHsgZGF0YSwgbGlzdCwgY291bnQgfSkgPT4ge1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgUm91dGVyLnB1c2goXCIvNTAwXCIpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgW3JvdXRlclN0YXR1cywgc2V0Um91dGVyU3RhdHVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBoYW5kbGVSb3V0ZUNoYW5nZSA9ICgpID0+IHtcclxuICAgIHNldFJvdXRlclN0YXR1cyh0cnVlKTtcclxuICB9O1xyXG4gIFJvdXRlci5ldmVudHMub24oXCJyb3V0ZUNoYW5nZVN0YXJ0XCIsIGhhbmRsZVJvdXRlQ2hhbmdlKTtcclxuXHJcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShkYXRhKTtcclxuICBjb25zdCBbaW5pdFN0YXRlLCBzZXRJbml0U3RhdGVdID0gdXNlU3RhdGUoeyBkYXRhLCBjb3VudCB9KTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUoY291bnQpO1xyXG4gIGNvbnN0IFt0eXBlLCBzZXRUeXBlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPEhlYWQ+XHJcbiAgICAgICAgPHRpdGxlPkFydGljbGU8L3RpdGxlPlxyXG4gICAgICAgIDxsaW5rXHJcbiAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCJcclxuICAgICAgICAgIGhyZWY9XCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Jvb3RzdHJhcEA0LjQuMS9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzc1wiXHJcbiAgICAgICAgICBpbnRlZ3JpdHk9XCJzaGEzODQtVmtvbzh4NENHc08zK0hoeHY4VC9RNVBhWHRrS3R1NnVnNVRPZU5WNmdCaUZlV1BHRk45TXVoT2YyM1E5SWZqaFwiXHJcbiAgICAgICAgICBjcm9zc29yaWdpbj1cImFub255bW91c1wiXHJcbiAgICAgICAgPjwvbGluaz5cclxuICAgICAgICA8bGlua1xyXG4gICAgICAgICAgcmVsPVwic3R5bGVzaGVldFwiXHJcbiAgICAgICAgICBocmVmPVwiLy9hdC5hbGljZG4uY29tL3QvZm9udF8xNzQ4OTE5X3BpaWhpeGM1OTNqLmNzc1wiXHJcbiAgICAgICAgLz5cclxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgaHJlZj1cIi9sb2dvLmpwZ1wiIHR5cGU9XCJpbWFnZS94LWljb25cIj48L2xpbms+XHJcbiAgICAgIDwvSGVhZD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIj5cclxuICAgICAgICA8bmF2IGNsYXNzTmFtZT1cInJvdyBteC0wXCI+XHJcbiAgICAgICAgICA8TmF2PlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cImFydGljbGUtbGlzdC1iZ1wiIGFsdD1cImJnXCIgLz5cclxuICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgIDwvbmF2PlxyXG5cclxuICAgICAgICA8TWluTmF2XHJcbiAgICAgICAgICBzZXRTdGF0ZT17c2V0U3RhdGV9XHJcbiAgICAgICAgICBzZXRUeXBlPXtzZXRUeXBlfVxyXG4gICAgICAgICAgc2V0UGFnZT17c2V0UGFnZX1cclxuICAgICAgICAgIHNldExvYWQ9e3NldExvYWRpbmd9XHJcbiAgICAgICAgICBsaXN0PXtsaXN0fVxyXG4gICAgICAgICAgb2xkU3RhdGU9e2luaXRTdGF0ZX1cclxuICAgICAgICAgIHNldFBhZ2U9e3NldFBhZ2V9XHJcbiAgICAgICAgLz5cclxuXHJcbiAgICAgICAgPENvbnRlbnRMaXN0XHJcbiAgICAgICAgICBzdGF0ZT17c3RhdGV9XHJcbiAgICAgICAgICB0eXBlPXt0eXBlfVxyXG4gICAgICAgICAgc2V0U3RhdGU9e3NldFN0YXRlfVxyXG4gICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgIGNvdW50PXtwYWdlfVxyXG4gICAgICAgIC8+XHJcblxyXG4gICAgICAgIDxGb290ZXIgLz5cclxuICAgICAgICB7cm91dGVyU3RhdHVzICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZEFuaW1hXCI+IHsvKiAg6Lev55Sx5Y+Y5YyW5pe2IOaPkOekuuWKqOeUuyAqL308L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXHJcbiAgICAgICAgKixcclxuICAgICAgICBib2R5IHtcclxuICAgICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gICAgICAgIH1cclxuICAgICAgICBodG1sIHtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmNvbnRhaW5lci1mbHVpZCB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcclxuICAgICAgICAgIGh0bWwge1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDZweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDQwMHB4KSB7XHJcbiAgICAgICAgICBodG1sIHtcclxuICAgICAgICAgICAgZm9udC1zaXplOiA1cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBSVVJMID0gcHJvY2Vzcy5lbnYuREFUQV9VUkwgKyBcImFkZEFydGljbGUvZ290QXJ0aWNsZUxpc3QvMVwiO1xyXG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaChSVVJMKTtcclxuICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0KSByZXR1cm4geyBwcm9wczogeyBkYXRhOiBudWxsIH0gfTtcclxuICBsZXQgcmVzdWx0ID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICByZXR1cm4ge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgZGF0YTogcmVzdWx0LmRhdGEsXHJcbiAgICAgIGxpc3Q6IHJlc3VsdC5saXN0LFxyXG4gICAgICBjb3VudDogcmVzdWx0LmNvdW50LFxyXG4gICAgfSxcclxuICB9O1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBBcnRpY2xlTGlzdDtcclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\pages\\\\\\\\article-list.js */\"));\n};\n\nexport const getServerSideProps = async () => {\n  const RURL = process.env.DATA_URL + \"addArticle/gotArticleList/1\";\n  let res = await fetch(RURL);\n  if (res.status === 404) return {\n    props: {\n      data: null\n    }\n  };\n  let result = await res.json();\n  return {\n    props: {\n      data: result.data,\n      list: result.list,\n      count: result.count\n    }\n  };\n};\nexport default ArticleList;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/pages/article-list.js"],"names":["React","useEffect","useState","useRef","fetch","Head","Router","Nav","MinNav","ContentList","Footer","ArticleList","data","list","count","push","routerStatus","setRouterStatus","handleRouteChange","events","on","state","setState","initState","setInitState","loading","setLoading","page","setPage","type","setType","getServerSideProps","RURL","process","env","DATA_URL","res","status","props","result","json"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,GAAP,MAAgB,yBAAhB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,IAAR;AAAcC,EAAAA;AAAd,CAAD,KAA2B;AAC7Cb,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACW,IAAL,EAAW;AACTN,MAAAA,MAAM,CAACS,IAAP,CAAY,MAAZ;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;AAMA,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkCf,QAAQ,CAAC,KAAD,CAAhD;;AACA,QAAMgB,iBAAiB,GAAG,MAAM;AAC9BD,IAAAA,eAAe,CAAC,IAAD,CAAf;AACD,GAFD;;AAGAX,EAAAA,MAAM,CAACa,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCF,iBAArC;AAEA,QAAM;AAAA,OAACG,KAAD;AAAA,OAAQC;AAAR,MAAoBpB,QAAQ,CAACU,IAAD,CAAlC;AACA,QAAM;AAAA,OAACW,SAAD;AAAA,OAAYC;AAAZ,MAA4BtB,QAAQ,CAAC;AAAEU,IAAAA,IAAF;AAAQE,IAAAA;AAAR,GAAD,CAA1C;AACA,QAAM;AAAA,OAACW,OAAD;AAAA,OAAUC;AAAV,MAAwBxB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACyB,IAAD;AAAA,OAAOC;AAAP,MAAkB1B,QAAQ,CAACY,KAAD,CAAhC;AACA,QAAM;AAAA,OAACe,IAAD;AAAA,OAAOC;AAAP,MAAkB5B,QAAQ,CAAC,IAAD,CAAhC;AAEA,SACE,4BACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AACE,IAAA,GAAG,EAAC,YADN;AAEE,IAAA,IAAI,EAAC,yEAFP;AAGE,IAAA,SAAS,EAAC,yEAHZ;AAIE,IAAA,WAAW,EAAC,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AACE,IAAA,GAAG,EAAC,YADN;AAEE,IAAA,IAAI,EAAC,gDAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EAYE;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,WAAtB;AAAkC,IAAA,IAAI,EAAC,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,EAeE;AAAA,wCAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAC,iBAAT;AAA2B,IAAA,GAAG,EAAC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,EAOE,MAAC,MAAD;AACE,IAAA,QAAQ,EAAEoB,QADZ;AAEE,IAAA,OAAO,EAAEQ,OAFX;AAGE,IAAA,OAAO,EAAEF,OAHX;AAIE,IAAA,OAAO,EAAEF,UAJX;AAKE,IAAA,IAAI,EAAEb,IALR;AAME,IAAA,QAAQ,EAAEU,SANZ;AAOE,IAAA,OAAO,EAAEK,OAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAiBE,MAAC,WAAD;AACE,IAAA,KAAK,EAAEP,KADT;AAEE,IAAA,IAAI,EAAEQ,IAFR;AAGE,IAAA,QAAQ,EAAEP,QAHZ;AAIE,IAAA,OAAO,EAAEG,OAJX;AAKE,IAAA,KAAK,EAAEE,IALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBF,EAyBE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzBF,EA0BGX,YAAY,IACX;AAAA,wCAAe,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA3BJ,CAfF;AAAA;AAAA;AAAA,uwKADF;AA0ED,CA7FD;;AA+FA,OAAO,MAAMe,kBAAkB,GAAG,YAAY;AAC5C,QAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAuB,6BAApC;AACA,MAAIC,GAAG,GAAG,MAAMhC,KAAK,CAAC4B,IAAD,CAArB;AACA,MAAII,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB,OAAO;AAAEC,IAAAA,KAAK,EAAE;AAAE1B,MAAAA,IAAI,EAAE;AAAR;AAAT,GAAP;AACxB,MAAI2B,MAAM,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAAnB;AACA,SAAO;AACLF,IAAAA,KAAK,EAAE;AACL1B,MAAAA,IAAI,EAAE2B,MAAM,CAAC3B,IADR;AAELC,MAAAA,IAAI,EAAE0B,MAAM,CAAC1B,IAFR;AAGLC,MAAAA,KAAK,EAAEyB,MAAM,CAACzB;AAHT;AADF,GAAP;AAOD,CAZM;AAaP,eAAeH,WAAf","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport fetch from \"node-fetch\";\r\nimport Head from \"next/head\";\r\nimport Router from \"next/router\";\r\n\r\nimport Nav from \"../component/public/nav\";\r\nimport MinNav from \"../component/articleList/min-nav\";\r\nimport ContentList from \"../component/articleList/contentList\";\r\nimport Footer from \"../component/articleList/footer\";\r\n\r\nconst ArticleList = ({ data, list, count }) => {\r\n  useEffect(() => {\r\n    if (!data) {\r\n      Router.push(\"/500\");\r\n    }\r\n  }, []);\r\n\r\n  const [routerStatus, setRouterStatus] = useState(false);\r\n  const handleRouteChange = () => {\r\n    setRouterStatus(true);\r\n  };\r\n  Router.events.on(\"routeChangeStart\", handleRouteChange);\r\n\r\n  const [state, setState] = useState(data);\r\n  const [initState, setInitState] = useState({ data, count });\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(count);\r\n  const [type, setType] = useState(null);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Article</title>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css\"\r\n          integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\"\r\n          crossorigin=\"anonymous\"\r\n        ></link>\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"//at.alicdn.com/t/font_1748919_piihixc593j.css\"\r\n        />\r\n        <link rel=\"icon\" href=\"/logo.jpg\" type=\"image/x-icon\"></link>\r\n      </Head>\r\n      <div className=\"container-fluid\">\r\n        <nav className=\"row mx-0\">\r\n          <Nav>\r\n            <img src=\"article-list-bg\" alt=\"bg\" />\r\n          </Nav>\r\n        </nav>\r\n\r\n        <MinNav\r\n          setState={setState}\r\n          setType={setType}\r\n          setPage={setPage}\r\n          setLoad={setLoading}\r\n          list={list}\r\n          oldState={initState}\r\n          setPage={setPage}\r\n        />\r\n\r\n        <ContentList\r\n          state={state}\r\n          type={type}\r\n          setState={setState}\r\n          loading={loading}\r\n          count={page}\r\n        />\r\n\r\n        <Footer />\r\n        {routerStatus && (\r\n          <div className=\"loadAnima\"> {/*  路由变化时 提示动画 */}</div>\r\n        )}\r\n      </div>\r\n\r\n      <style jsx global>{`\r\n        *,\r\n        body {\r\n          margin: 0;\r\n          padding: 0;\r\n          box-sizing: border-box;\r\n        }\r\n        html {\r\n          font-size: 10px;\r\n        }\r\n        .container-fluid {\r\n          padding: 0;\r\n          overflow-x: hidden;\r\n        }\r\n        @media (max-width: 600px) {\r\n          html {\r\n            font-size: 6px;\r\n          }\r\n        }\r\n        @media (max-width: 400px) {\r\n          html {\r\n            font-size: 5px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = async () => {\r\n  const RURL = process.env.DATA_URL + \"addArticle/gotArticleList/1\";\r\n  let res = await fetch(RURL);\r\n  if (res.status === 404) return { props: { data: null } };\r\n  let result = await res.json();\r\n  return {\r\n    props: {\r\n      data: result.data,\r\n      list: result.list,\r\n      count: result.count,\r\n    },\r\n  };\r\n};\r\nexport default ArticleList;\r\n"]},"metadata":{},"sourceType":"module"}