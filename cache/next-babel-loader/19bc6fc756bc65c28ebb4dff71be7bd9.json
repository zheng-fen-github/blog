{"ast":null,"code":"var _jsxFileName = \"C:\\\\newlife\\\\newSite\\\\my-app\\\\component\\\\login\\\\index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Load from \"../public/loading\";\n\nconst Index = ({\n  openEvent\n}) => {\n  useEffect(() => {\n    //自动输入账号\n    let account = localStorage.getItem(\"user-account\");\n\n    if (account) {\n      let input = document.querySelector(\"input[name='account']\");\n      input.value = account;\n      document.querySelector(\"input[name='password']\").focus();\n    }\n  }, []);\n\n  const submitEv = async e => {\n    e.preventDefault();\n    let data = new FormData(e.target);\n    setLoading(true);\n\n    try {\n      const QURL = process.env.DATA_URL + \"login\";\n      let res = await fetch(QURL, {\n        method: \"POST\",\n        body: data\n      });\n      let result = await res.json();\n\n      if (res.ok) {\n        localStorage.setItem(\"user-account\", data.get(\"account\"));\n        document.documentElement.style.background = \"#f7f7f7\";\n        openEvent(result);\n      } else {\n        setLoading(false);\n        alert(result);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const {\n    0: Loading,\n    1: setLoading\n  } = useState(false);\n  return __jsx(\"div\", {\n    className: \"jsx-1676328697\" + \" \" + \"row m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1676328697\" + \" \" + \"main-root shadow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1676328697\" + \" \" + \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1676328697\" + \" \" + \"animation col-12 d-flex align-items-center justify-content-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, Loading ? __jsx(Load, {\n    color: \"#97cad9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }) : __jsx(\"i\", {\n    className: \"jsx-1676328697\" + \" \" + \"iconfont icon-suo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  })), __jsx(\"form\", {\n    onSubmit: submitEv,\n    className: \"jsx-1676328697\" + \" \" + \"form-root col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    className: \"jsx-1676328697\" + \" \" + \"title my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Login\"), __jsx(\"label\", {\n    htmlFor: \"account\",\n    className: \"jsx-1676328697\" + \" \" + \"col-12 h3 my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Account\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"account\",\n    id: \"account\",\n    autoFocus: true,\n    required: true,\n    className: \"jsx-1676328697\" + \" \" + \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"password\",\n    className: \"jsx-1676328697\" + \" \" + \"col-12 h3 my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Password\"), __jsx(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    required: true,\n    className: \"jsx-1676328697\" + \" \" + \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"jsx-1676328697\" + \" \" + \"my-5 h2 shadow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, \"LOGIN\")))), __jsx(_JSXStyle, {\n    id: \"1676328697\",\n    __self: this\n  }, \".main-root.jsx-1676328697{width:480px;position:fixed;top:50%;left:50%;border-radius:20px;overflow:hidden;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:white;}.animation.jsx-1676328697{height:200px;background:#fafeff;}.form-root.jsx-1676328697{padding:10%;padding-top:0;}i.jsx-1676328697{font-size:60px;color:#97cad9;}input.jsx-1676328697{font-size:3rem;border-radius:20px;border:solid #e5e5e5 2px;padding:1rem;}label.jsx-1676328697{margin:0;padding:0;color:#d5d6d9;}button.jsx-1676328697{width:100%;padding:1rem;font-size:3rem;background:#f3fcfe;border:none;color:#97cad9;font-weight:700;border-radius:10px;-webkit-transition:0.2s;transition:0.2s;}button.jsx-1676328697:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);}h1.jsx-1676328697{color:#97cad9;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcbG9naW5cXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQThFUyxBQUd5QixBQVVDLEFBSUQsQUFJRyxBQUlBLEFBTU4sQUFLRSxBQVdVLEFBR1AsU0FsQkosRUFLRyxDQWpDRSxBQWNELENBSkssQ0FxQ3JCLENBN0JnQixBQUlLLElBT0wsS0FLQyxFQW5CakIsQ0FkVSxFQWtCVixHQVJBLENBbUJBLENBUDJCLENBckJoQixJQWlDVSxLQWhDQSxjQWlDUCxDQVpDLElBcEJHLE9BaUNGLEVBWmhCLEdBbUJBLElBdkNrQyxLQWlDaEIsZ0JBQ0csbUJBQ0gsd0NBQ2xCLHlCQW5DbUIsaUJBQ25CIiwiZmlsZSI6IkM6XFxuZXdsaWZlXFxuZXdTaXRlXFxteS1hcHBcXGNvbXBvbmVudFxcbG9naW5cXGluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IExvYWQgZnJvbSBcIi4uL3B1YmxpYy9sb2FkaW5nXCI7XHJcblxyXG5jb25zdCBJbmRleCA9ICh7IG9wZW5FdmVudCB9KSA9PiB7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8v6Ieq5Yqo6L6T5YWl6LSm5Y+3XHJcbiAgICBsZXQgYWNjb3VudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlci1hY2NvdW50XCIpO1xyXG4gICAgaWYgKGFjY291bnQpIHtcclxuICAgICAgbGV0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J2FjY291bnQnXVwiKTtcclxuICAgICAgaW5wdXQudmFsdWUgPSBhY2NvdW50O1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKS5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuICBjb25zdCBzdWJtaXRFdiA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YShlLnRhcmdldCk7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgUVVSTCA9IHByb2Nlc3MuZW52LkRBVEFfVVJMICsgXCJsb2dpblwiO1xyXG4gICAgICBsZXQgcmVzID0gYXdhaXQgZmV0Y2goUVVSTCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgYm9keTogZGF0YSxcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ1c2VyLWFjY291bnRcIiwgZGF0YS5nZXQoXCJhY2NvdW50XCIpKTtcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZCA9IFwiI2Y3ZjdmN1wiO1xyXG4gICAgICAgIG9wZW5FdmVudChyZXN1bHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGFsZXJ0KHJlc3VsdCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgW0xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBtLTBcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLXJvb3Qgc2hhZG93LXNtXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0aW9uIGNvbC0xMiBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgXCI+XHJcbiAgICAgICAgICAgIHtMb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgIDxMb2FkIGNvbG9yPVwiIzk3Y2FkOVwiIC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaWNvbmZvbnQgaWNvbi1zdW9cIj48L2k+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImZvcm0tcm9vdCBjb2wtMTJcIiBvblN1Ym1pdD17c3VibWl0RXZ9PlxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGl0bGUgbXktNVwiPkxvZ2luPC9oMT5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhY2NvdW50XCIgY2xhc3NOYW1lPVwiY29sLTEyIGgzIG15LTRcIj5cclxuICAgICAgICAgICAgICBBY2NvdW50XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBuYW1lPVwiYWNjb3VudFwiXHJcbiAgICAgICAgICAgICAgaWQ9XCJhY2NvdW50XCJcclxuICAgICAgICAgICAgICBhdXRvRm9jdXNcclxuICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAwXCJcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cImNvbC0xMiBoMyBteS00XCI+XHJcbiAgICAgICAgICAgICAgUGFzc3dvcmRcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICBuYW1lPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJteS01IGgyIHNoYWRvdy1zbVwiPlxyXG4gICAgICAgICAgICAgIExPR0lOXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICB7YFxyXG4gICAgICAgICAgLm1haW4tcm9vdCB7XHJcbiAgICAgICAgICAgIHdpZHRoOiA0ODBweDtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMHB4O1xyXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAuYW5pbWF0aW9uIHtcclxuICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZhZmVmZjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5mb3JtLXJvb3Qge1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxMCU7XHJcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogNjBweDtcclxuICAgICAgICAgICAgY29sb3I6ICM5N2NhZDk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbnB1dCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgICAgICAgICAgYm9yZGVyOiBzb2xpZCAjZTVlNWU1IDJweDtcclxuICAgICAgICAgICAgcGFkZGluZzogMXJlbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhYmVsIHtcclxuICAgICAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgICBjb2xvcjogI2Q1ZDZkOTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAxcmVtO1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDNyZW07XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmM2ZjZmU7XHJcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgICAgICAgY29sb3I6ICM5N2NhZDk7XHJcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IDAuMnM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBidXR0b246aG92ZXIge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBoMSB7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjOTdjYWQ5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5kZXg7XHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\newlife\\\\\\\\newSite\\\\\\\\my-app\\\\\\\\component\\\\\\\\login\\\\\\\\index.js */\"));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/newlife/newSite/my-app/component/login/index.js"],"names":["React","useState","useEffect","Load","Index","openEvent","account","localStorage","getItem","input","document","querySelector","value","focus","submitEv","e","preventDefault","data","FormData","target","setLoading","QURL","process","env","DATA_URL","res","fetch","method","body","result","json","ok","setItem","get","documentElement","style","background","alert","err","console","log","Loading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Load from \"../public/loading\";\r\n\r\nconst Index = ({ openEvent }) => {\r\n  useEffect(() => {\r\n    //自动输入账号\r\n    let account = localStorage.getItem(\"user-account\");\r\n    if (account) {\r\n      let input = document.querySelector(\"input[name='account']\");\r\n      input.value = account;\r\n      document.querySelector(\"input[name='password']\").focus();\r\n    }\r\n  }, []);\r\n  const submitEv = async (e) => {\r\n    e.preventDefault();\r\n    let data = new FormData(e.target);\r\n    setLoading(true);\r\n    try {\r\n      const QURL = process.env.DATA_URL + \"login\";\r\n      let res = await fetch(QURL, {\r\n        method: \"POST\",\r\n        body: data,\r\n      });\r\n      let result = await res.json();\r\n      if (res.ok) {\r\n        localStorage.setItem(\"user-account\", data.get(\"account\"));\r\n        document.documentElement.style.background = \"#f7f7f7\";\r\n        openEvent(result);\r\n      } else {\r\n        setLoading(false);\r\n        alert(result);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n  const [Loading, setLoading] = useState(false);\r\n  return (\r\n    <div className=\"row m-0\">\r\n      <div className=\"main-root shadow-sm\">\r\n        <div className=\"row\">\r\n          <div className=\"animation col-12 d-flex align-items-center justify-content-center \">\r\n            {Loading ? (\r\n              <Load color=\"#97cad9\" />\r\n            ) : (\r\n              <i className=\"iconfont icon-suo\"></i>\r\n            )}\r\n          </div>\r\n          <form className=\"form-root col-12\" onSubmit={submitEv}>\r\n            <h1 className=\"title my-5\">Login</h1>\r\n            <label htmlFor=\"account\" className=\"col-12 h3 my-4\">\r\n              Account\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"account\"\r\n              id=\"account\"\r\n              autoFocus\r\n              required\r\n              className=\"w-100\"\r\n            />\r\n            <label htmlFor=\"password\" className=\"col-12 h3 my-4\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              required\r\n              className=\"w-100\"\r\n            />\r\n            <button type=\"submit\" className=\"my-5 h2 shadow-sm\">\r\n              LOGIN\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <style jsx>\r\n        {`\r\n          .main-root {\r\n            width: 480px;\r\n            position: fixed;\r\n            top: 50%;\r\n            left: 50%;\r\n            border-radius: 20px;\r\n            overflow: hidden;\r\n            transform: translate(-50%, -50%);\r\n            background: white;\r\n          }\r\n          .animation {\r\n            height: 200px;\r\n            background: #fafeff;\r\n          }\r\n          .form-root {\r\n            padding: 10%;\r\n            padding-top: 0;\r\n          }\r\n          i {\r\n            font-size: 60px;\r\n            color: #97cad9;\r\n          }\r\n          input {\r\n            font-size: 3rem;\r\n            border-radius: 20px;\r\n            border: solid #e5e5e5 2px;\r\n            padding: 1rem;\r\n          }\r\n          label {\r\n            margin: 0;\r\n            padding: 0;\r\n            color: #d5d6d9;\r\n          }\r\n          button {\r\n            width: 100%;\r\n            padding: 1rem;\r\n            font-size: 3rem;\r\n            background: #f3fcfe;\r\n            border: none;\r\n            color: #97cad9;\r\n            font-weight: 700;\r\n            border-radius: 10px;\r\n            transition: 0.2s;\r\n          }\r\n          button:hover {\r\n            transform: scale(1.1);\r\n          }\r\n          h1 {\r\n            color: #97cad9;\r\n          }\r\n        `}\r\n      </style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}